<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ObjCryst++: ObjCryst::LSQRegularizationOperator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ObjCryst++
   &#160;<span id="projectnumber">1.5CVS</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="a00178.html">ObjCryst</a></li><li class="navelem"><a class="el" href="a00047.html">LSQRegularizationOperator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="a00327.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ObjCryst::LSQRegularizationOperator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Simple Regularization Operator for the Least-Squares Refinement.  
 <a href="a00047.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8b50ee303228c67b0291497edbec4a4d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b50ee303228c67b0291497edbec4a4d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#a8b50ee303228c67b0291497edbec4a4d">LSQRegularizationOperator</a> (std::string objName=&quot;Unnamed LSQ Regularization Obj&quot;)</td></tr>
<tr class="memdesc:a8b50ee303228c67b0291497edbec4a4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor. <br/></td></tr>
<tr class="separator:a8b50ee303228c67b0291497edbec4a4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a7df3e9372bd0b5824b3eb46479a479"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3a7df3e9372bd0b5824b3eb46479a479"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#a3a7df3e9372bd0b5824b3eb46479a479">LSQRegularizationOperator</a> (const <a class="el" href="a00047.html">LSQRegularizationOperator</a> &amp;)</td></tr>
<tr class="memdesc:a3a7df3e9372bd0b5824b3eb46479a479"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor. <br/></td></tr>
<tr class="separator:a3a7df3e9372bd0b5824b3eb46479a479"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09d06b5ad20ded0c5361dfac53e79d78"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a09d06b5ad20ded0c5361dfac53e79d78"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#a09d06b5ad20ded0c5361dfac53e79d78">~LSQRegularizationOperator</a> ()</td></tr>
<tr class="memdesc:a09d06b5ad20ded0c5361dfac53e79d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descructor. <br/></td></tr>
<tr class="separator:a09d06b5ad20ded0c5361dfac53e79d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a865c08041f893e4ea216c229713af113"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a865c08041f893e4ea216c229713af113"></a>
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#a865c08041f893e4ea216c229713af113">GetClassName</a> () const </td></tr>
<tr class="memdesc:a865c08041f893e4ea216c229713af113"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name for this class ("LSQRegularizationOperator",...) <br/></td></tr>
<tr class="separator:a865c08041f893e4ea216c229713af113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81bf5bbfe83d8a18ebe2371cad6a9d5c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a81bf5bbfe83d8a18ebe2371cad6a9d5c"></a>
const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#a81bf5bbfe83d8a18ebe2371cad6a9d5c">GetName</a> () const </td></tr>
<tr class="memdesc:a81bf5bbfe83d8a18ebe2371cad6a9d5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the object. <br/></td></tr>
<tr class="separator:a81bf5bbfe83d8a18ebe2371cad6a9d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e5d82946631d708bb0c518664071ba"><td class="memItemLeft" align="right" valign="top">const CrystMatrix_REAL &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#ad3e5d82946631d708bb0c518664071ba">GetRegularizationOperatorMatrix</a> () const </td></tr>
<tr class="memdesc:ad3e5d82946631d708bb0c518664071ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the matrix reprezenting the regularization operator.  <a href="#ad3e5d82946631d708bb0c518664071ba">More...</a><br/></td></tr>
<tr class="separator:ad3e5d82946631d708bb0c518664071ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab03f9a1f27efa7c7d0d1bf67621611ec"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab03f9a1f27efa7c7d0d1bf67621611ec"></a>
const std::vector&lt; const <br class="typebreak"/>
<a class="el" href="a00080.html">RefinablePar</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#ab03f9a1f27efa7c7d0d1bf67621611ec">GetParamList</a> () const </td></tr>
<tr class="memdesc:ab03f9a1f27efa7c7d0d1bf67621611ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the list of parameters. This list links the matrix elements with the appropriate parameters. <br/></td></tr>
<tr class="separator:ab03f9a1f27efa7c7d0d1bf67621611ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4e1749323861d214ebd51a3f0771698"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4e1749323861d214ebd51a3f0771698"></a>
REAL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#ad4e1749323861d214ebd51a3f0771698">GetRegularizationOperatorWeight</a> () const </td></tr>
<tr class="memdesc:ad4e1749323861d214ebd51a3f0771698"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the weighting factor of the regularization operator in the minimized ChiSq quantity. <br/></td></tr>
<tr class="separator:ad4e1749323861d214ebd51a3f0771698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c17e6bb0c82ab0d37508a55c2947106"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#a3c17e6bb0c82ab0d37508a55c2947106">SetRegularizationOperatorMatrix</a> (const CrystMatrix_REAL &amp;matrix)</td></tr>
<tr class="memdesc:a3c17e6bb0c82ab0d37508a55c2947106"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the matrix reprezenting the regularization operator.  <a href="#a3c17e6bb0c82ab0d37508a55c2947106">More...</a><br/></td></tr>
<tr class="separator:a3c17e6bb0c82ab0d37508a55c2947106"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad50b39cbdbe2a65dc3eb27e6fbe91852"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad50b39cbdbe2a65dc3eb27e6fbe91852"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#ad50b39cbdbe2a65dc3eb27e6fbe91852">SetParamList</a> (const std::vector&lt; const <a class="el" href="a00080.html">RefinablePar</a> * &gt; &amp;paramList)</td></tr>
<tr class="memdesc:ad50b39cbdbe2a65dc3eb27e6fbe91852"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the list of parameters on which the operator is working. This list links the matrix elements with the appropriate parameters. <br/></td></tr>
<tr class="separator:ad50b39cbdbe2a65dc3eb27e6fbe91852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db1acb17c357632879a913845320d4b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2db1acb17c357632879a913845320d4b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#a2db1acb17c357632879a913845320d4b">SetRegularizationOperatorWeight</a> (const REAL Lambda)</td></tr>
<tr class="memdesc:a2db1acb17c357632879a913845320d4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the weighting factor of the regularization operator in the minimized ChiSq quantity. <br/></td></tr>
<tr class="separator:a2db1acb17c357632879a913845320d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb8bc1b35e57b0e892d8229d2539f99c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeb8bc1b35e57b0e892d8229d2539f99c"></a>
REAL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#aeb8bc1b35e57b0e892d8229d2539f99c">GetValue</a> () const </td></tr>
<tr class="memdesc:aeb8bc1b35e57b0e892d8229d2539f99c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get (non-weighted) value of Regularization Operator applied to the current parameters set. <br/></td></tr>
<tr class="separator:aeb8bc1b35e57b0e892d8229d2539f99c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae42bb2fcf0165b72dd8ac7e01551777c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae42bb2fcf0165b72dd8ac7e01551777c"></a>
std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#ae42bb2fcf0165b72dd8ac7e01551777c">mName</a></td></tr>
<tr class="memdesc:ae42bb2fcf0165b72dd8ac7e01551777c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the object. <br/></td></tr>
<tr class="separator:ae42bb2fcf0165b72dd8ac7e01551777c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214df1f8fe0ff9bb78734ad6df8026dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a214df1f8fe0ff9bb78734ad6df8026dc"></a>
std::vector&lt; const <a class="el" href="a00080.html">RefinablePar</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#a214df1f8fe0ff9bb78734ad6df8026dc">mParamList</a></td></tr>
<tr class="memdesc:a214df1f8fe0ff9bb78734ad6df8026dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">List of parameters on which the regularization operator is working. <br/></td></tr>
<tr class="separator:a214df1f8fe0ff9bb78734ad6df8026dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2b41c7ba63db54c93666942b0e6ed6e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae2b41c7ba63db54c93666942b0e6ed6e"></a>
CrystMatrix_REAL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#ae2b41c7ba63db54c93666942b0e6ed6e">mRegOpMatrix</a></td></tr>
<tr class="memdesc:ae2b41c7ba63db54c93666942b0e6ed6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Regularization operator matrix. <br/></td></tr>
<tr class="separator:ae2b41c7ba63db54c93666942b0e6ed6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91f10e972493d31b80d160dd78b8c299"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a91f10e972493d31b80d160dd78b8c299"></a>
REAL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00047.html#a91f10e972493d31b80d160dd78b8c299">mLambda</a></td></tr>
<tr class="memdesc:a91f10e972493d31b80d160dd78b8c299"><td class="mdescLeft">&#160;</td><td class="mdescRight">Weight of the regularization operator. <br/></td></tr>
<tr class="separator:a91f10e972493d31b80d160dd78b8c299"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Simple Regularization Operator for the Least-Squares Refinement. </p>
<p>During the common LSQ refinement a ChiSq value representing the difference of observed and simulated data is minimized. The matter of this object is to provide an operator that is used to regularize refinement solution in some way. For example it is assumed that the solution should be smooth. This means a that each model parameter from a given group of parametres, representing e.g. a continous function, should not differ much from neighbouring parameters in the group. Such a condition can be expressed as an additional operator that should be optimised. Hence insteed of minimizing only the ChiSq value the quantity: ChiSq(a0+da) + Lambda * (a0+da)*H*(a0+da)</p>
<p>is minimised now. Here a0 ... states for a vector of model parameters, da ... is the mutation of model parameters refined by LSQs, Lambda ... is the weighting factor and H ... is the symmetric regularization operator. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad3e5d82946631d708bb0c518664071ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const CrystMatrix_REAL&amp; ObjCryst::LSQRegularizationOperator::GetRegularizationOperatorMatrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the matrix reprezenting the regularization operator. </p>
<p>The elements of the matrix descibe relations between parameters returned by GetParamsList(). Hence this list defines the order of matrix rows and columns.</p>
<p>The matrix is symmetric. The lower triangular part of the matrix should be used preferably (becouse of compatibility with Newmat). </p>

</div>
</div>
<a class="anchor" id="a3c17e6bb0c82ab0d37508a55c2947106"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ObjCryst::LSQRegularizationOperator::SetRegularizationOperatorMatrix </td>
          <td>(</td>
          <td class="paramtype">const CrystMatrix_REAL &amp;&#160;</td>
          <td class="paramname"><em>matrix</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the matrix reprezenting the regularization operator. </p>
<p>The elements of the matrix descibe relations between parameters returned by GetParamsList(). Hence this list defines the order of matrix rows and columns.</p>
<p>The matrix must be symmetric. The lower triangular part of the matrix should be used preferably (becouse of compatibility with Newmat). </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>LSQNumObj.h</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Dec 11 2013 15:36:09 for ObjCryst++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>

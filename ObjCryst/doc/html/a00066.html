<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>ObjCryst++: ObjCryst::PowderPatternDiffraction Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">ObjCryst++
   &#160;<span id="projectnumber">1.5CVS</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="a00171.html">ObjCryst</a>      </li>
      <li class="navelem"><a class="el" href="a00066.html">PowderPatternDiffraction</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">ObjCryst::PowderPatternDiffraction Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="ObjCryst::PowderPatternDiffraction" --><!-- doxytag: inherits="ObjCryst::PowderPatternComponent,ObjCryst::ScatteringData" -->
<p>Class to compute the contribution to a powder pattern from a crystalline phase.  
 <a href="a00066.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for ObjCryst::PowderPatternDiffraction:</div>
<div class="dyncontent">
 <div class="center">
  <img src="a00066.png" usemap="#ObjCryst::PowderPatternDiffraction_map" alt=""/>
  <map id="ObjCryst::PowderPatternDiffraction_map" name="ObjCryst::PowderPatternDiffraction_map">
<area href="a00065.html" title="Generic class to compute components (eg the contribution of a given phase, or background) of a powder..." alt="ObjCryst::PowderPatternComponent" shape="rect" coords="0,56,214,80"/>
<area href="a00089.html" title="Class to compute structure factors for a set of reflections and a Crystal." alt="ObjCryst::ScatteringData" shape="rect" coords="224,56,438,80"/>
<area href="a00071.html" title="Generic Refinable Object." alt="ObjCryst::RefinableObj" shape="rect" coords="0,0,214,24"/>
<area href="a00071.html" title="Generic Refinable Object." alt="ObjCryst::RefinableObj" shape="rect" coords="224,0,438,24"/>
</map>
 </div></div>

<p><a href="a00280.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00077.html">ReflProfile</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Profile of a single reflection.  <a href="a00077.html#details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a66a5dbb3c4a169bea2fd738b8e2ad4b1"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::PowderPatternDiffraction" ref="a66a5dbb3c4a169bea2fd738b8e2ad4b1" args="(const PowderPatternDiffraction &amp;)" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>PowderPatternDiffraction</b> (const <a class="el" href="a00066.html">PowderPatternDiffraction</a> &amp;)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab288a964d5259f2b239c49eb3efdd5bb"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::CreateCopy" ref="ab288a964d5259f2b239c49eb3efdd5bb" args="() const " -->
virtual <a class="el" href="a00066.html">PowderPatternDiffraction</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ab288a964d5259f2b239c49eb3efdd5bb">CreateCopy</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">So-called virtual copy constructor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a74b02e35219c6bc18521e66719778881">GetClassName</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Name for this class ("RefinableObj", "Crystal",...).  <a href="#a74b02e35219c6bc18521e66719778881"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ab67953ad7f27c37334a6b557c2da1d73">SetParentPowderPattern</a> (<a class="el" href="a00062.html">PowderPattern</a> &amp;)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the <a class="el" href="a00062.html" title="Powder pattern class, with an observed pattern and several calculated components to modelize the patt...">PowderPattern</a> object which uses this component.  <a href="#ab67953ad7f27c37334a6b557c2da1d73"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const CrystVector_REAL &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a8003dc9bbaf67b5d95e443c20166b742">GetPowderPatternCalc</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the calculated powder pattern for this component.  <a href="#a8003dc9bbaf67b5d95e443c20166b742"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual pair&lt; const <br class="typebreak"/>
CrystVector_REAL *, const <br class="typebreak"/>
<a class="el" href="a00072.html">RefinableObjClock</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a2f2a745dcfa6cb7b7af4523b268827fe">GetPowderPatternIntegratedCalc</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the integrated values of the powder pattern.  <a href="#a2f2a745dcfa6cb7b7af4523b268827fe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a7e75337a21cc715aefb78ed70d30dba7">SetReflectionProfilePar</a> (const <a class="el" href="a00171.html#a0997f99fe92ed00498e2ed57d51b8aad">ReflectionProfileType</a> prof, const REAL fwhmCagliotiW, const REAL fwhmCagliotiU=0, const REAL fwhmCagliotiV=0, const REAL eta0=0.5, const REAL eta1=0.)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set reflection profile parameters.  <a href="#a7e75337a21cc715aefb78ed70d30dba7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#abf4e4d356004068fc2ae2faaaf40c336">SetProfile</a> (<a class="el" href="a00074.html">ReflectionProfile</a> *prof)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Assign a new profile.  <a href="#abf4e4d356004068fc2ae2faaaf40c336"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a36737a2dbb8be2af46f5c314171b419a"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetProfile" ref="a36737a2dbb8be2af46f5c314171b419a" args="() const " -->
const <a class="el" href="a00074.html">ReflectionProfile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a36737a2dbb8be2af46f5c314171b419a">GetProfile</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get reflection profile. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8f82b16e1d676f468475317afaddfdd8"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetProfile" ref="a8f82b16e1d676f468475317afaddfdd8" args="()" -->
<a class="el" href="a00074.html">ReflectionProfile</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a8f82b16e1d676f468475317afaddfdd8">GetProfile</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get reflection profile. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8d40f85ebf29e8f57c369ec2111650a4"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GenHKLFullSpace" ref="a8d40f85ebf29e8f57c369ec2111650a4" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>GenHKLFullSpace</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#af4a2a4dbdbc9eb85274835a4b3d10be9">XMLOutput</a> (ostream &amp;os, int indent=0) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Output to stream in well-formed XML.  <a href="#af4a2a4dbdbc9eb85274835a4b3d10be9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#af350a4a95ddac5f15812bf35015f83fb">XMLInput</a> (istream &amp;is, const <a class="el" href="a00151.html">XMLCrystTag</a> &amp;tag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Input From stream.  <a href="#af350a4a95ddac5f15812bf35015f83fb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a7c6a94f74a6010abdb9ba4d5a8653d3f">GetGeneGroup</a> (const <a class="el" href="a00071.html">RefinableObj</a> &amp;obj, CrystVector_uint &amp;groupIndex, unsigned int &amp;firstGroup) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the gene group assigned to each parameter.  <a href="#a7c6a94f74a6010abdb9ba4d5a8653d3f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a44d10a7c3404153fe4513c8944629c45">BeginOptimization</a> (const bool allowApproximations=false, const bool enableRestraints=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This should be called by any optimization class at the begining of an optimization.  <a href="#a44d10a7c3404153fe4513c8944629c45"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a11f7690878a07983de3abb839b087798">EndOptimization</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This should be called by any optimization class at the end of an optimization.  <a href="#a11f7690878a07983de3abb839b087798"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a0e7b4a6f4b3a7b783ebed15230a1c45f">SetApproximationFlag</a> (const bool allow)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable or disable numerical approximations.  <a href="#a0e7b4a6f4b3a7b783ebed15230a1c45f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a56744e8d8a61966b2acdc7c4ad9d4e85"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetRadiation" ref="a56744e8d8a61966b2acdc7c4ad9d4e85" args="() const " -->
virtual const <a class="el" href="a00069.html">Radiation</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a56744e8d8a61966b2acdc7c4ad9d4e85">GetRadiation</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the radiation object for this data. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const CrystVector_REAL &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a664e1f47391720d06ffaa2b10b0aaf49">GetPowderPatternCalcVariance</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the variance associated to each point of the calculated powder pattern, for this component.  <a href="#a664e1f47391720d06ffaa2b10b0aaf49"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual pair&lt; const <br class="typebreak"/>
CrystVector_REAL *, const <br class="typebreak"/>
<a class="el" href="a00072.html">RefinableObjClock</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ae529ea1dab34388e88ba4a818ed48ca1">GetPowderPatternIntegratedCalcVariance</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the variance associated to each point of the calculated powder pattern, for this component (integrated version).  <a href="#ae529ea1dab34388e88ba4a818ed48ca1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad0c57e0e2664e498e887d29698875cf0"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::HasPowderPatternCalcVariance" ref="ad0c57e0e2664e498e887d29698875cf0" args="() const " -->
virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ad0c57e0e2664e498e887d29698875cf0">HasPowderPatternCalcVariance</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Does this component have a variance associated with each calculated point ? i.e., do we use maximum likelihood to take into account incomplete models ? <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a855f114ce585410a354b56a6ea336eaf">SetCrystal</a> (<a class="el" href="a00020.html">Crystal</a> &amp;crystal)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the crystal for this experiment.  <a href="#a855f114ce585410a354b56a6ea336eaf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a02f1293bc57c472a85741a328521d95f">SetExtractionMode</a> (const bool extract=true, const bool init=false)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare intensity extraction (Le Bail or Pawley)  <a href="#a02f1293bc57c472a85741a328521d95f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add445d5800c4728a43c3c8a8bbea085d"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetExtractionMode" ref="add445d5800c4728a43c3c8a8bbea085d" args="() const " -->
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#add445d5800c4728a43c3c8a8bbea085d">GetExtractionMode</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if in extraction mode, i.e. using extracted intensities instead of computed structure factors. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#aa86150b55c39275e7d076afb2b43513d">ExtractLeBail</a> (unsigned int nbcycle=1)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Extract intensities using Le Bail method.  <a href="#aa86150b55c39275e7d076afb2b43513d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a2793f8d2df13e5a1e9a5efc527771b3a">GetNbReflBelowMaxSinThetaOvLambda</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Recalc, and get the number of reflections which should be actually used, due to the maximuml sin(theta)/lambda value set.  <a href="#a2793f8d2df13e5a1e9a5efc527771b3a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a1f37b1e47c8bef989931fac08cf18849">CalcPowderPattern</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calc the powder pattern.  <a href="#a1f37b1e47c8bef989931fac08cf18849"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ae9e715bb230da8a3683adfee296288ad">CalcPowderPatternIntegrated</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calc the integrated powder pattern.  <a href="#ae9e715bb230da8a3683adfee296288ad"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#add8efa98500f554fd35bf672a999d949">CalcPowderReflProfile</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a4053e0b8996de211ba196310fa3feee9">CalcIntensityCorr</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a56dce436cf171bd33e8adc50d3c40fb8">CalcIhkl</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ae19852383674ae3ab673748a30a8432a">Prepare</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a734b53af6b0427541fa3ee852eb091f0"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::InitOptions" ref="a734b53af6b0427541fa3ee852eb091f0" args="()" -->
virtual void&#160;</td><td class="memItemRight" valign="bottom"><b>InitOptions</b> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual const CrystVector_long &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ab9e21f6f16d77e96e4b5bed47db82dca">GetBraggLimits</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the pixel positions separating the integration intervals around reflections.  <a href="#ab9e21f6f16d77e96e4b5bed47db82dca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a699af7ea523fca128032384b548ceef1">SetMaxSinThetaOvLambda</a> (const REAL max)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the maximum value for sin(theta)/lambda.  <a href="#a699af7ea523fca128032384b548ceef1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aacd4efcac37189dc542545563982f10e"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::PrepareIntegratedProfile" ref="aacd4efcac37189dc542545563982f10e" args="() const " -->
void&#160;</td><td class="memItemRight" valign="bottom"><b>PrepareIntegratedProfile</b> () const </td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a509b94e52b44aed53752cdf92be7603c"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mClockProfilePar" ref="a509b94e52b44aed53752cdf92be7603c" args="" -->
<a class="el" href="a00072.html">RefinableObjClock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a509b94e52b44aed53752cdf92be7603c">mClockProfilePar</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time the reflection parameters were changed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1381bf49f3c4900f0e280f8bcbff172f"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mClockLorentzPolarSlitCorrPar" ref="a1381bf49f3c4900f0e280f8bcbff172f" args="" -->
<a class="el" href="a00072.html">RefinableObjClock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a1381bf49f3c4900f0e280f8bcbff172f">mClockLorentzPolarSlitCorrPar</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time the. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad963323e1ffbdadc9c7bd1cdbf9539dc"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mClockIntensityCorr" ref="ad963323e1ffbdadc9c7bd1cdbf9539dc" args="" -->
<a class="el" href="a00072.html">RefinableObjClock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ad963323e1ffbdadc9c7bd1cdbf9539dc">mClockIntensityCorr</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time the Lorentz-Polar-Slit correction was computed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a39aa20a66d5c032083f96b96fe3f10d3"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mClockProfileCalc" ref="a39aa20a66d5c032083f96b96fe3f10d3" args="" -->
<a class="el" href="a00072.html">RefinableObjClock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a39aa20a66d5c032083f96b96fe3f10d3">mClockProfileCalc</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time the reflection profiles were computed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b583c1ab76b3b39b891050f85e7d1f5"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mClockIhklCalc" ref="a4b583c1ab76b3b39b891050f85e7d1f5" args="" -->
<a class="el" href="a00072.html">RefinableObjClock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a4b583c1ab76b3b39b891050f85e7d1f5">mClockIhklCalc</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time intensities were computed. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac7f248f736457fe513193865d2e154ad"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mpReflectionProfile" ref="ac7f248f736457fe513193865d2e154ad" args="" -->
<a class="el" href="a00074.html">ReflectionProfile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ac7f248f736457fe513193865d2e154ad">mpReflectionProfile</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Profile. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">CrystVector_REAL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#addc10ae4a02801eb441e38b4beae2e9a">mIntensityCorr</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculated corrections for all reflections.  <a href="#addc10ae4a02801eb441e38b4beae2e9a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7f83c3a22d2784ae9394ddd64e695088"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mCorrLorentz" ref="a7f83c3a22d2784ae9394ddd64e695088" args="" -->
<a class="el" href="a00038.html">LorentzCorr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a7f83c3a22d2784ae9394ddd64e695088">mCorrLorentz</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Lorentz correction. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38474f1c77cbc2b08c2d4354f8f439d1"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mCorrPolar" ref="a38474f1c77cbc2b08c2d4354f8f439d1" args="" -->
<a class="el" href="a00061.html">PolarizationCorr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a38474f1c77cbc2b08c2d4354f8f439d1">mCorrPolar</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Polarization correction. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab2147524769083aaf24c8518ae4c6aab"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mCorrSlitAperture" ref="ab2147524769083aaf24c8518ae4c6aab" args="" -->
<a class="el" href="a00067.html">PowderSlitApertureCorr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ab2147524769083aaf24c8518ae4c6aab">mCorrSlitAperture</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Slit aperture correction. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa2b7ce1dd0f5b396d9cbf86dcbe96b30"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mCorrTextureMarchDollase" ref="aa2b7ce1dd0f5b396d9cbf86dcbe96b30" args="" -->
<a class="el" href="a00104.html">TextureMarchDollase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#aa2b7ce1dd0f5b396d9cbf86dcbe96b30">mCorrTextureMarchDollase</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Preferred orientation (texture) correction following the March-Dollase model. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6a4defa4d63105fb531871c7460ac9b9"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mCorrTOF" ref="a6a4defa4d63105fb531871c7460ac9b9" args="" -->
<a class="el" href="a00106.html">TOFCorr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a6a4defa4d63105fb531871c7460ac9b9">mCorrTOF</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Time-Of-Flight intensity correction. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa312a4468b704f0bad83f5d06d4f470e"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mIhklCalc" ref="aa312a4468b704f0bad83f5d06d4f470e" args="" -->
CrystVector_REAL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#aa312a4468b704f0bad83f5d06d4f470e">mIhklCalc</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Computed intensities for all reflections. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac74d96cb164d11c48fa24acb73b28008"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mIhklCalcVariance" ref="ac74d96cb164d11c48fa24acb73b28008" args="" -->
CrystVector_REAL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ac74d96cb164d11c48fa24acb73b28008">mIhklCalcVariance</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Variance on computed intensities for all reflections. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaff1e7365e403358c95ffb916b5914e8"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mvReflProfile" ref="aaff1e7365e403358c95ffb916b5914e8" args="" -->
vector&lt; <a class="el" href="a00077.html">ReflProfile</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#aaff1e7365e403358c95ffb916b5914e8">mvReflProfile</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reflection profiles for ALL reflections during the last powder pattern generation. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vector&lt; pair&lt; unsigned long, <br class="typebreak"/>
CrystVector_REAL &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a551115d02944f3e0d360cc92f8084c99">mIntegratedProfileFactor</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">For each reflection, store the integrated value of the normalized profile over all integration intervals.  <a href="#a551115d02944f3e0d360cc92f8084c99"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4abbf16a758485daab6392a875678abf"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mClockIntegratedProfileFactor" ref="a4abbf16a758485daab6392a875678abf" args="" -->
<a class="el" href="a00072.html">RefinableObjClock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#a4abbf16a758485daab6392a875678abf">mClockIntegratedProfileFactor</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Last time the integrated values of normalized profiles was calculated. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3f0954b0ecb5786f8ca52ebb811c2ac0"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mExtractionMode" ref="a3f0954b0ecb5786f8ca52ebb811c2ac0" args="" -->
bool&#160;</td><td class="memItemRight" valign="bottom"><b>mExtractionMode</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae03f55a0f790918e2ba366943f95b60d"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mpLeBailData" ref="ae03f55a0f790918e2ba366943f95b60d" args="" -->
<a class="el" href="a00026.html">DiffractionDataSingleCrystal</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#ae03f55a0f790918e2ba366943f95b60d">mpLeBailData</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Single crystal data extracted from the powder pattern. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aaa33b091a2f27f60a1b43dac3c31e668"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mReflProfFact" ref="aaa33b091a2f27f60a1b43dac3c31e668" args="" -->
REAL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#aaa33b091a2f27f60a1b43dac3c31e668">mReflProfFact</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Range in which reflection profiles are calcualted is enlarged by this factor. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba6dba2fcbe1ecee0d230380fb4bc851"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mReflProfMinRelIntensity" ref="aba6dba2fcbe1ecee0d230380fb4bc851" args="" -->
REAL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00066.html#aba6dba2fcbe1ecee0d230380fb4bc851">mReflProfMinRelIntensity</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum relative intensity for reflection profile calculation. <br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Class to compute the contribution to a powder pattern from a crystalline phase. </p>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a44d10a7c3404153fe4513c8944629c45"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::BeginOptimization" ref="a44d10a7c3404153fe4513c8944629c45" args="(const bool allowApproximations=false, const bool enableRestraints=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#a44d10a7c3404153fe4513c8944629c45">ObjCryst::PowderPatternDiffraction::BeginOptimization</a> </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>allowApproximations</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>enableRestraints</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This should be called by any optimization class at the begining of an optimization. </p>
<p>This will also check that everything is ready, eg call the <a class="el" href="a00071.html#a48d11671e7f8699f7bc24077585c5e0f">RefinableObj::Prepare()</a> function. This also affects all sub-objects. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>this may be called several time for some objects which are used by several other objects, or for nested optimizations (e.g. least-squares optimizations inside a global one).</dd>
<dd>
<a class="el" href="a00066.html#a11f7690878a07983de3abb839b087798" title="This should be called by any optimization class at the end of an optimization.">EndOptimization()</a> must be called at the end of the optimization, the same number of time <a class="el" href="a00066.html#a44d10a7c3404153fe4513c8944629c45" title="This should be called by any optimization class at the begining of an optimization.">BeginOptimization()</a> was called !</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">allowApproximations,:</td><td>if true, then the object can use faster but less precise functions during the optimization. This is useful for global optimization not using derivatives. </td></tr>
    <tr><td class="paramname">enableRestraints:\xrefitem</td><td>deprecated 28. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="a00089.html#a6b0f18996edafa21a03bf9550dcf8981">ObjCryst::ScatteringData</a>.</p>

</div>
</div>
<a class="anchor" id="a56dce436cf171bd33e8adc50d3c40fb8"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::CalcIhkl" ref="a56dce436cf171bd33e8adc50d3c40fb8" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#a56dce436cf171bd33e8adc50d3c40fb8">ObjCryst::PowderPatternDiffraction::CalcIhkl</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Compute the intensity for all reflections (taking into account corrections, but not the multiplicity) </p>

</div>
</div>
<a class="anchor" id="a4053e0b8996de211ba196310fa3feee9"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::CalcIntensityCorr" ref="a4053e0b8996de211ba196310fa3feee9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#a4053e0b8996de211ba196310fa3feee9">ObjCryst::PowderPatternDiffraction::CalcIntensityCorr</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Calc Lorentz-Polarisation-APerture correction </p>

</div>
</div>
<a class="anchor" id="a1f37b1e47c8bef989931fac08cf18849"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::CalcPowderPattern" ref="a1f37b1e47c8bef989931fac08cf18849" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#a1f37b1e47c8bef989931fac08cf18849">ObjCryst::PowderPatternDiffraction::CalcPowderPattern</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calc the powder pattern. </p>
<p>As always, recomputation is only done if necessary (ie if a parameter has changed since the last computation) </p>

<p>Implements <a class="el" href="a00065.html#a8417ecb93009a9b7b9fccf074a9438d9">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="ae9e715bb230da8a3683adfee296288ad"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::CalcPowderPatternIntegrated" ref="ae9e715bb230da8a3683adfee296288ad" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#ae9e715bb230da8a3683adfee296288ad">ObjCryst::PowderPatternDiffraction::CalcPowderPatternIntegrated</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calc the integrated powder pattern. </p>
<p>This should be optimized so that the full powder pattern is not explicitely computed. </p>

<p>Implements <a class="el" href="a00065.html#a24c4fb58e500cd669f3298475a31f72f">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="add8efa98500f554fd35bf672a999d949"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::CalcPowderReflProfile" ref="add8efa98500f554fd35bf672a999d949" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00066.html#add8efa98500f554fd35bf672a999d949">ObjCryst::PowderPatternDiffraction::CalcPowderReflProfile</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Calc reflection profiles for ALL reflections (powder diffraction) </p>

</div>
</div>
<a class="anchor" id="a11f7690878a07983de3abb839b087798"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::EndOptimization" ref="a11f7690878a07983de3abb839b087798" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#a11f7690878a07983de3abb839b087798">ObjCryst::PowderPatternDiffraction::EndOptimization</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This should be called by any optimization class at the end of an optimization. </p>
<p>This also affects all sub-objects. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>this may be called several time for some objects which are used by several other objects. </dd></dl>

<p>Reimplemented from <a class="el" href="a00089.html#a782e0caf5c6f2941ca64d17293b1e8b4">ObjCryst::ScatteringData</a>.</p>

</div>
</div>
<a class="anchor" id="aa86150b55c39275e7d076afb2b43513d"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::ExtractLeBail" ref="aa86150b55c39275e7d076afb2b43513d" args="(unsigned int nbcycle=1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00066.html#aa86150b55c39275e7d076afb2b43513d">ObjCryst::PowderPatternDiffraction::ExtractLeBail</a> </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nbcycle</em> = <code>1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Extract intensities using Le Bail method. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">nbcycle,:</td><td>number of cycles </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab9e21f6f16d77e96e4b5bed47db82dca"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetBraggLimits" ref="ab9e21f6f16d77e96e4b5bed47db82dca" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const CrystVector_long&amp; <a class="el" href="a00066.html#ab9e21f6f16d77e96e4b5bed47db82dca">ObjCryst::PowderPatternDiffraction::GetBraggLimits</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the pixel positions separating the integration intervals around reflections. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>: an array with the pixel positions, empty if this component has no peaks. The positions should be in increasing order, but could go beyond the pattern limits. </dd></dl>

<p>Implements <a class="el" href="a00065.html#a727488f859528b0a9b5da47973804e01">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="a74b02e35219c6bc18521e66719778881"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetClassName" ref="a74b02e35219c6bc18521e66719778881" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const string&amp; <a class="el" href="a00066.html#a74b02e35219c6bc18521e66719778881">ObjCryst::PowderPatternDiffraction::GetClassName</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Name for this class ("RefinableObj", "Crystal",...). </p>
<p>This is only useful to distinguish different classes when picking up objects from the <a class="el" href="a00071.html" title="Generic Refinable Object.">RefinableObj</a> Global Registry </p>

<p>Reimplemented from <a class="el" href="a00065.html#a5e797476d8d76ef797e1e8b51db9e8fb">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="a7c6a94f74a6010abdb9ba4d5a8653d3f"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetGeneGroup" ref="a7c6a94f74a6010abdb9ba4d5a8653d3f" args="(const RefinableObj &amp;obj, CrystVector_uint &amp;groupIndex, unsigned int &amp;firstGroup) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#a7c6a94f74a6010abdb9ba4d5a8653d3f">ObjCryst::PowderPatternDiffraction::GetGeneGroup</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00071.html">RefinableObj</a> &amp;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CrystVector_uint &amp;&#160;</td>
          <td class="paramname"><em>groupIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>firstGroup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the gene group assigned to each parameter. </p>
<p>Each parameter (a <em>gene</em> in terms of genetic algorithms) can be assigned to a gene group. Thus when mating two configurations, genes will be exchanged by groups. By default (in the base RefinabeObj class), each parameter is alone in its group. Derived classes can group genes for a better s** life.</p>
<p>The number identifying a gene group only has a meaning in a given object. It can also change on subsequent calls, and thus is not unique.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>the , supplied by an algorithm class (<a class="el" href="a00055.html" title="Base object for Optimization methods.">OptimizationObj</a>,..), which contains a list of parameters, some of which (but possibly all or none) are parameters belonging to this object. </td></tr>
    <tr><td class="paramname">groupIndex</td><td>a vector of unsigned integers, one for each parameter in the input object, giving an unsigned integer value as gene group index. At the beginning this vector should contain only zeros (no group assigned). </td></tr>
    <tr><td class="paramname">firstGroup</td><td>this is the number of groups which have already been assigned, plus one. The gene groups returned by this object will start from this value, and increment <b>firstGroup</b> for each gene group used, so that different <a class="el" href="a00071.html" title="Generic Refinable Object.">RefinableObj</a> cannot share a gene group. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>this function is not optimized, and should only be called at the beginning of a refinement. </dd></dl>

<p>Reimplemented from <a class="el" href="a00071.html#ad59c8ad2b0d7ee59fa3f399a54f05e54">ObjCryst::RefinableObj</a>.</p>

</div>
</div>
<a class="anchor" id="a2793f8d2df13e5a1e9a5efc527771b3a"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetNbReflBelowMaxSinThetaOvLambda" ref="a2793f8d2df13e5a1e9a5efc527771b3a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual long <a class="el" href="a00066.html#a2793f8d2df13e5a1e9a5efc527771b3a">ObjCryst::PowderPatternDiffraction::GetNbReflBelowMaxSinThetaOvLambda</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Recalc, and get the number of reflections which should be actually used, due to the maximuml sin(theta)/lambda value set. </p>

<p>Reimplemented from <a class="el" href="a00089.html#aac8034f8b0f6980c619e595ce6ba1d65">ObjCryst::ScatteringData</a>.</p>

</div>
</div>
<a class="anchor" id="a8003dc9bbaf67b5d95e443c20166b742"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetPowderPatternCalc" ref="a8003dc9bbaf67b5d95e443c20166b742" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const CrystVector_REAL&amp; <a class="el" href="a00066.html#a8003dc9bbaf67b5d95e443c20166b742">ObjCryst::PowderPatternDiffraction::GetPowderPatternCalc</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the calculated powder pattern for this component. </p>
<p>Note that the pattern is <em>not</em> scaled. </p>

<p>Implements <a class="el" href="a00065.html#a45258e9f9b44ff019bf53aa3dfb1a305">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="a664e1f47391720d06ffaa2b10b0aaf49"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetPowderPatternCalcVariance" ref="a664e1f47391720d06ffaa2b10b0aaf49" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual const CrystVector_REAL&amp; <a class="el" href="a00066.html#a664e1f47391720d06ffaa2b10b0aaf49">ObjCryst::PowderPatternDiffraction::GetPowderPatternCalcVariance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the variance associated to each point of the calculated powder pattern, for this component. </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>: this is experimental, with the aim of using Maximum Likelihood to improve structure determination. </dd></dl>

<p>Implements <a class="el" href="a00065.html#ad67b39669fd0d336b01937ee81a59ddc">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="a2f2a745dcfa6cb7b7af4523b268827fe"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetPowderPatternIntegratedCalc" ref="a2f2a745dcfa6cb7b7af4523b268827fe" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual pair&lt;const CrystVector_REAL*,const <a class="el" href="a00072.html">RefinableObjClock</a>*&gt; <a class="el" href="a00066.html#a2f2a745dcfa6cb7b7af4523b268827fe">ObjCryst::PowderPatternDiffraction::GetPowderPatternIntegratedCalc</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the integrated values of the powder pattern. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>: the integration intervals are those given by the parent <a class="el" href="a00062.html" title="Powder pattern class, with an observed pattern and several calculated components to modelize the patt...">PowderPattern</a>, so that all <a class="el" href="a00065.html" title="Generic class to compute components (eg the contribution of a given phase, or background) of a powder...">PowderPatternComponent</a>'s intervals are taken into account</dd></dl>
<p>This avoids explicitely calculating the full profile powder pattern. </p>

<p>Implements <a class="el" href="a00065.html#ac54b7ae5a177492de681afc2cbed72eb">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="ae529ea1dab34388e88ba4a818ed48ca1"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::GetPowderPatternIntegratedCalcVariance" ref="ae529ea1dab34388e88ba4a818ed48ca1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual pair&lt;const CrystVector_REAL*,const <a class="el" href="a00072.html">RefinableObjClock</a>*&gt; <a class="el" href="a00066.html#ae529ea1dab34388e88ba4a818ed48ca1">ObjCryst::PowderPatternDiffraction::GetPowderPatternIntegratedCalcVariance</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the variance associated to each point of the calculated powder pattern, for this component (integrated version). </p>
<dl class="warning"><dt><b>Warning:</b></dt><dd>: this is experimental, with the aim of using Maximum Likelihood to improve structure determination. </dd></dl>

<p>Implements <a class="el" href="a00065.html#ae721bd290b50aa9503bac419616a21c6">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="ae19852383674ae3ab673748a30a8432a"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::Prepare" ref="ae19852383674ae3ab673748a30a8432a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#ae19852383674ae3ab673748a30a8432a">ObjCryst::PowderPatternDiffraction::Prepare</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This will be called by the parent <a class="el" href="a00062.html" title="Powder pattern class, with an observed pattern and several calculated components to modelize the patt...">PowderPattern</a> object, before calculating the first powder pattern. Or maybe it should be called automatically by the object itself... </p>

<p>Implements <a class="el" href="a00065.html#a6a99877f0f9dec09fd5f596a7ddeb6f6">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="a0e7b4a6f4b3a7b783ebed15230a1c45f"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::SetApproximationFlag" ref="a0e7b4a6f4b3a7b783ebed15230a1c45f" args="(const bool allow)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#a0e7b4a6f4b3a7b783ebed15230a1c45f">ObjCryst::PowderPatternDiffraction::SetApproximationFlag</a> </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>allow</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Enable or disable numerical approximations. </p>
<p>This can be used for global optimization to get faster calculations. Depending on the type of object, this may do something or not (it does not do anything in a base <a class="el" href="a00071.html" title="Generic Refinable Object.">RefinableObj</a>, except calling this function for all sub-objects).</p>
<dl class="note"><dt><b>Note:</b></dt><dd>Currently there is no mApproximationFlag in the base class, but maybe there should...</dd></dl>
<p>Also see: </p>

<p>Reimplemented from <a class="el" href="a00089.html#a109ed8c2e8dc676e77aa80feafa91071">ObjCryst::ScatteringData</a>.</p>

</div>
</div>
<a class="anchor" id="a855f114ce585410a354b56a6ea336eaf"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::SetCrystal" ref="a855f114ce585410a354b56a6ea336eaf" args="(Crystal &amp;crystal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#a855f114ce585410a354b56a6ea336eaf">ObjCryst::PowderPatternDiffraction::SetCrystal</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00020.html">Crystal</a> &amp;&#160;</td>
          <td class="paramname"><em>crystal</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the crystal for this experiment. </p>

<p>Reimplemented from <a class="el" href="a00089.html#a75ea37efc16db856fff9b8832b524284">ObjCryst::ScatteringData</a>.</p>

</div>
</div>
<a class="anchor" id="a02f1293bc57c472a85741a328521d95f"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::SetExtractionMode" ref="a02f1293bc57c472a85741a328521d95f" args="(const bool extract=true, const bool init=false)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00066.html#a02f1293bc57c472a85741a328521d95f">ObjCryst::PowderPatternDiffraction::SetExtractionMode</a> </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>extract</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>init</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prepare intensity extraction (Le Bail or Pawley) </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">extract,:</td><td>if true, begin extraction mode, else enable structure factor calculations </td></tr>
    <tr><td class="paramname">init,:</td><td>if true and extract=true, intensities are set to 100 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a699af7ea523fca128032384b548ceef1"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::SetMaxSinThetaOvLambda" ref="a699af7ea523fca128032384b548ceef1" args="(const REAL max)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#a699af7ea523fca128032384b548ceef1">ObjCryst::PowderPatternDiffraction::SetMaxSinThetaOvLambda</a> </td>
          <td>(</td>
          <td class="paramtype">const REAL&#160;</td>
          <td class="paramname"><em>max</em></td><td>)</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the maximum value for sin(theta)/lambda. </p>
<p>All data above still exist but are ignored for all calculations. </p>

<p>Implements <a class="el" href="a00065.html#a4731b5a64ee9aab6779e2ef323242fe5">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="ab67953ad7f27c37334a6b557c2da1d73"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::SetParentPowderPattern" ref="ab67953ad7f27c37334a6b557c2da1d73" args="(PowderPattern &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#ab67953ad7f27c37334a6b557c2da1d73">ObjCryst::PowderPatternDiffraction::SetParentPowderPattern</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00062.html">PowderPattern</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the <a class="el" href="a00062.html" title="Powder pattern class, with an observed pattern and several calculated components to modelize the patt...">PowderPattern</a> object which uses this component. </p>
<p>This sets all necessary pattern parameters (2theta/tof range, wavelength, radiation type...) accordingly. </p>

<p>Implements <a class="el" href="a00065.html#a6b3dc911118c280dbbdcb7fb97acf980">ObjCryst::PowderPatternComponent</a>.</p>

</div>
</div>
<a class="anchor" id="abf4e4d356004068fc2ae2faaaf40c336"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::SetProfile" ref="abf4e4d356004068fc2ae2faaaf40c336" args="(ReflectionProfile *prof)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00066.html#abf4e4d356004068fc2ae2faaaf40c336">ObjCryst::PowderPatternDiffraction::SetProfile</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00074.html">ReflectionProfile</a> *&#160;</td>
          <td class="paramname"><em>prof</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Assign a new profile. </p>

</div>
</div>
<a class="anchor" id="a7e75337a21cc715aefb78ed70d30dba7"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::SetReflectionProfilePar" ref="a7e75337a21cc715aefb78ed70d30dba7" args="(const ReflectionProfileType prof, const REAL fwhmCagliotiW, const REAL fwhmCagliotiU=0, const REAL fwhmCagliotiV=0, const REAL eta0=0.5, const REAL eta1=0.)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="a00066.html#a7e75337a21cc715aefb78ed70d30dba7">ObjCryst::PowderPatternDiffraction::SetReflectionProfilePar</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a00171.html#a0997f99fe92ed00498e2ed57d51b8aad">ReflectionProfileType</a>&#160;</td>
          <td class="paramname"><em>prof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const REAL&#160;</td>
          <td class="paramname"><em>fwhmCagliotiW</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const REAL&#160;</td>
          <td class="paramname"><em>fwhmCagliotiU</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const REAL&#160;</td>
          <td class="paramname"><em>fwhmCagliotiV</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const REAL&#160;</td>
          <td class="paramname"><em>eta0</em> = <code>0.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const REAL&#160;</td>
          <td class="paramname"><em>eta1</em> = <code>0.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set reflection profile parameters. </p>
<p>:TODO: assymmetric profiles </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">fwhmCagliotiW,fwhmCagliotiU,fwhmCagliotiV</td><td>: these are the U,V and W parameters in the Caglioti's law : <img class="formulaInl" alt="$ fwhm^2= U \tan^2(\theta) + V \tan(\theta) +W $" src="form_10.png"/> if only W is given, the width is constant </td></tr>
    <tr><td class="paramname">eta0,eta1,:</td><td>these are the mixing parameters in the case of a pseudo-Voigt function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af350a4a95ddac5f15812bf35015f83fb"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::XMLInput" ref="af350a4a95ddac5f15812bf35015f83fb" args="(istream &amp;is, const XMLCrystTag &amp;tag)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#af350a4a95ddac5f15812bf35015f83fb">ObjCryst::PowderPatternDiffraction::XMLInput</a> </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a00151.html">XMLCrystTag</a> &amp;&#160;</td>
          <td class="paramname"><em>tag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Input From stream. </p>
<dl class="todo"><dt><b><a class="el" href="a00222.html#_todo000027">Todo:</a></b></dt><dd>Add an bool XMLInputTag(is,tag) function to recognize all the tags from the stream. So that each inherited class can use the XMLInputTag function from its parent (ie take advantage of inheritance). The children class would first try to interpret the tag, then if unsuccessful would pass it to its parent (thus allowing overloading), etc... </dd></dl>

<p>Reimplemented from <a class="el" href="a00071.html#ac13a4045c3f187879443c8615c38d623">ObjCryst::RefinableObj</a>.</p>

</div>
</div>
<a class="anchor" id="af4a2a4dbdbc9eb85274835a4b3d10be9"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::XMLOutput" ref="af4a2a4dbdbc9eb85274835a4b3d10be9" args="(ostream &amp;os, int indent=0) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="a00066.html#af4a2a4dbdbc9eb85274835a4b3d10be9">ObjCryst::PowderPatternDiffraction::XMLOutput</a> </td>
          <td>(</td>
          <td class="paramtype">ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>indent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Output to stream in well-formed XML. </p>
<dl class="todo"><dt><b><a class="el" href="a00222.html#_todo000026">Todo:</a></b></dt><dd>Use inheritance.. as for XMLInputTag()... </dd></dl>

<p>Reimplemented from <a class="el" href="a00071.html#a7b9b6ed0f8dcf753d398c35e073de973">ObjCryst::RefinableObj</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a551115d02944f3e0d360cc92f8084c99"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mIntegratedProfileFactor" ref="a551115d02944f3e0d360cc92f8084c99" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; pair&lt;unsigned long, CrystVector_REAL&gt; &gt; <a class="el" href="a00066.html#a551115d02944f3e0d360cc92f8084c99">ObjCryst::PowderPatternDiffraction::mIntegratedProfileFactor</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>For each reflection, store the integrated value of the normalized profile over all integration intervals. </p>
<p>The first field is the first integration interval to which the reflection contributes, and the second field is a vector with all the integrated values for the intervals, listed in ascending 2theta(tof) order. </p>

</div>
</div>
<a class="anchor" id="addc10ae4a02801eb441e38b4beae2e9a"></a><!-- doxytag: member="ObjCryst::PowderPatternDiffraction::mIntensityCorr" ref="addc10ae4a02801eb441e38b4beae2e9a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CrystVector_REAL <a class="el" href="a00066.html#addc10ae4a02801eb441e38b4beae2e9a">ObjCryst::PowderPatternDiffraction::mIntensityCorr</a><code> [mutable, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculated corrections for all reflections. </p>
<p>Calc F^2 must be multiplied by this factor to yield intensities.</p>
<p>Thus we have : <img class="formulaInl" alt="$ I_{hkl} = L \times P \times SlitAp \times F_{hkl}^2 $" src="form_11.png"/></p>
<p>with <img class="formulaInl" alt="$ L = \frac{1}{\sin(2\theta)} $" src="form_12.png"/> (Lorentz factor). <img class="formulaInl" alt="$ P = \frac{1}{1+A}\left(1+A\cos^2(2\theta)\right) $" src="form_13.png"/> (Polarization factor), with <img class="formulaInl" alt="$ A = \frac{1-f}{1+f} $" src="form_14.png"/>, where f is the polarization rate of the incident beam in the plane which (i) includes the incident beam, and (ii) is perpendicular to the diffracting plane. For an X-Ray Tube without monochromator, A=1, and if there is a monochromator : <img class="formulaInl" alt="$ A = \cos^2(2\theta_{mono}) $" src="form_15.png"/> The factor <img class="formulaInl" alt="$ SlitAp = \frac{1}{\sin(\theta)} $" src="form_16.png"/> takes into account the fraction of the diffracted cone which falls in the detector slit.</p>
<p>If there is prefereed orientation, this also holds the associated correction.</p>
<dl class="todo"><dt><b><a class="el" href="a00222.html#_todo000006">Todo:</a></b></dt><dd>: store all corrections in a registry, so that other corrections can more easily be added (? Maybe not that useful, especially since these correction do not need to be displayed to the user ?). </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>PowderPattern.h</li>
</ul>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Tue Apr 3 2012 18:19:58 for ObjCryst++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>

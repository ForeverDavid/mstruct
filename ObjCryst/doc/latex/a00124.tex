\subsection{ObjCryst::WXFieldRefPar Class Reference}
\label{a00124}\index{ObjCryst::WXFieldRefPar@{ObjCryst::WXFieldRefPar}}


A field for a \doxyref{RefinablePar}{p.}{a00072}.  
Inheritance diagram for ObjCryst::WXFieldRefPar::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3cm]{a00124}
\end{center}
\end{figure}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries WXFieldRefPar} (wxWindow $\ast$parent, const string \&label, {\bf RefinablePar} $\ast$refpar, const int hsize=65, const bool enableFixButton=true, const bool enableLimitedButton=true)\label{a00124_aaf2cf0819123a666866a4602ca5de448}

\item 
{\bf $\sim$WXFieldRefPar} ()
\begin{DoxyCompactList}\small\item\em When a new value is entered (must type it and then hit the 'enter' key). \item\end{DoxyCompactList}\item 
void {\bfseries OnEnter} (wxCommandEvent \&WXUNUSED(event))\label{a00124_a6bee091b30800606ab221141e755377a}

\item 
void {\bf OnText} (wxCommandEvent \&WXUNUSED(event))\label{a00124_a2b31ab79f3e0f4e288b6ba53eff40c9e}

\begin{DoxyCompactList}\small\item\em Records when text is entered (either from self-\/updating or user input). \item\end{DoxyCompactList}\item 
void {\bf OnToggleFix} (wxCommandEvent \&WXUNUSED(event))\label{a00124_a8e9538c35aaf65e427b53fbc5889d4b9}

\begin{DoxyCompactList}\small\item\em Toggle the 'fixed' status of the parameter. \item\end{DoxyCompactList}\item 
void {\bf OnToggleLimited} (wxCommandEvent \&WXUNUSED(event))\label{a00124_a9629d247dbfb8cf94f42b069753c7cf7}

\begin{DoxyCompactList}\small\item\em Toggle the 'limited' status of the parameter. \item\end{DoxyCompactList}\item 
void {\bf OnPopupMenu} (wxMouseEvent \&event)\label{a00124_a4d0a81de88c127d17542f83305865d59}

\begin{DoxyCompactList}\small\item\em Opens the popu menu, to allow changing limits. \item\end{DoxyCompactList}\item 
void {\bf OnPopupMenuChoice} (wxCommandEvent \&event)\label{a00124_a64690fe762aa6c7a4da9fb4bdc5b2096}

\begin{DoxyCompactList}\small\item\em Opens the popu menu, to allow changing limits. \item\end{DoxyCompactList}\item 
virtual void {\bf CrystUpdate} (const bool updateUI=false, const bool mutexlock=false)
\begin{DoxyCompactList}\small\item\em Get new values to be displayed from the underlying object, and raise flag if an UI update is necessary. \item\end{DoxyCompactList}\item 
virtual void {\bf UpdateUI} (const bool mutexlock=false)
\begin{DoxyCompactList}\small\item\em Update the User Interface, if necessary. \item\end{DoxyCompactList}\item 
{\bf RefinablePar} \& {\bf GetRefPar} ()\label{a00124_a36aa41fce1d42fbb04736a0cfe7a028f}

\begin{DoxyCompactList}\small\item\em Get the \doxyref{RefinablePar}{p.}{a00072} associated to this field. \item\end{DoxyCompactList}\item 
void {\bf Revert} ()
\begin{DoxyCompactList}\small\item\em After a user entry, this allows to go back to the last value, if for some reason the entry was rejected (because the object is currently busy, . \item\end{DoxyCompactList}\item 
virtual void {\bf ValidateUserInput} ()\label{a00124_a85d90dea83134f90f32423d62cd1681e}

\begin{DoxyCompactList}\small\item\em This function shall be called when a new value has been entered. \item\end{DoxyCompactList}\item 
virtual void {\bf SetToolTip} (const wxString \&tip)\label{a00124_a20bce7667ddb5d546f4f588f51eb28aa}

\begin{DoxyCompactList}\small\item\em Set tooltip for this window. It will be activated when going over the entry field. \item\end{DoxyCompactList}\item 
void {\bf SetFormat} (const wxString \&format)\label{a00124_a80558955482a56ecebc56a3285847357}

\begin{DoxyCompactList}\small\item\em Set Format. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
REAL {\bfseries mValue}\label{a00124_aa7ef21d56d620a3b0825bb8dce16f2c3}

\item 
wxCheckBox $\ast$ {\bfseries mpButtonFix}\label{a00124_a110671538c9f243572c886daed9a43e9}

\item 
wxCheckBox $\ast$ {\bfseries mpButtonLimited}\label{a00124_a4392760ef89b22c65e604a12c2d49afd}

\item 
wxTextCtrl $\ast$ {\bfseries mpField}\label{a00124_a6e4309b6f8b80e896a82f1d9f241a521}

\item 
{\bf RefinablePar} $\ast$ {\bfseries mpRefPar}\label{a00124_a9171367818a03871a3fe8eb8dbb77fdf}

\item 
REAL {\bfseries mValueOld}\label{a00124_a7d806387b730627841bc1c41a2fb1ad3}

\item 
bool {\bfseries mIsSelfUpdating}\label{a00124_a0bd541da80dd9af2c501d51a1d1c8599}

\item 
wxString {\bf mFormat}\label{a00124_a7e39af5c48e8e22e7869b9340a64acb2}

\begin{DoxyCompactList}\small\item\em Format to be used, default = \_\-T(\char`\"{}\%8f\char`\"{}). \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
A field for a \doxyref{RefinablePar}{p.}{a00072}. This shows the 'human' value of the parameter, and allows the modification of the parameter. A button allows to fix/unfix the parameter. \begin{Desc}
\item[{\bf Todo}]: allow acces to the parameters limits \end{Desc}


\subsubsection{Constructor \& Destructor Documentation}
\index{ObjCryst::WXFieldRefPar@{ObjCryst::WXFieldRefPar}!$\sim$WXFieldRefPar@{$\sim$WXFieldRefPar}}
\index{$\sim$WXFieldRefPar@{$\sim$WXFieldRefPar}!ObjCryst::WXFieldRefPar@{ObjCryst::WXFieldRefPar}}
\paragraph[{$\sim$WXFieldRefPar}]{\setlength{\rightskip}{0pt plus 5cm}ObjCryst::WXFieldRefPar::$\sim$WXFieldRefPar ()}\hfill\label{a00124_a7a79f02ae0835128939e35f761a042f0}


When a new value is entered (must type it and then hit the 'enter' key). The Field reads the new value, and directly changes the \doxyref{RefinablePar}{p.}{a00072} value (contrary to what happens for \doxyref{WXFieldName}{p.}{a00120})by using \doxyref{RefinablePar::SetHumanValue()}{p.}{a00072_a6bb727ce1de6de9e56c46be1ba75f8b9}. 

\subsubsection{Member Function Documentation}
\index{ObjCryst::WXFieldRefPar@{ObjCryst::WXFieldRefPar}!CrystUpdate@{CrystUpdate}}
\index{CrystUpdate@{CrystUpdate}!ObjCryst::WXFieldRefPar@{ObjCryst::WXFieldRefPar}}
\paragraph[{CrystUpdate}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ObjCryst::WXFieldRefPar::CrystUpdate (const bool {\em updateUI} = {\ttfamily false}, \/  const bool {\em mutexlock} = {\ttfamily false})\hspace{0.3cm}{\ttfamily  [virtual]}}\hfill\label{a00124_a8443129e52c24a9ab3e36222ddc552af}


Get new values to be displayed from the underlying object, and raise flag if an UI update is necessary. The actual GUI update is not made here. \doxyref{UpdateUI()}{p.}{a00124_ad43d8a21434d0b4888e1b87c5965578c} should be called separately, from the main thread.


\begin{DoxyParams}{Parameters}
\item[{\em updateUI,:}]if true, this will call UpdateUI, either directly (if in the main thread), or by sending a message. \item[{\em mutexlock,:}]if true, a Mutex will be used to lock the data shared between main and background thread. The idea is to only use a few Mutexes to lock data from the top objects (wxRefinableObj,...), when calling \doxyref{CrystUpdate()}{p.}{a00124_a8443129e52c24a9ab3e36222ddc552af} and \doxyref{UpdateUI()}{p.}{a00124_ad43d8a21434d0b4888e1b87c5965578c}. As sub-\/objects (\doxyref{WXField}{p.}{a00118},...) are only updated from within a top object, the mutex lock in the top object will also lock the data in the sub-\/objects. \end{DoxyParams}


Implements {\bf ObjCryst::WXCrystObjBasic} \doxyref{}{p.}{a00115_a7ac00ae2ae28f1a6fa26e6fa571186b6}.\index{ObjCryst::WXFieldRefPar@{ObjCryst::WXFieldRefPar}!Revert@{Revert}}
\index{Revert@{Revert}!ObjCryst::WXFieldRefPar@{ObjCryst::WXFieldRefPar}}
\paragraph[{Revert}]{\setlength{\rightskip}{0pt plus 5cm}void ObjCryst::WXFieldRefPar::Revert ()\hspace{0.3cm}{\ttfamily  [virtual]}}\hfill\label{a00124_acc2b6724451be954f41a64e09d6cf082}


After a user entry, this allows to go back to the last value, if for some reason the entry was rejected (because the object is currently busy, . ..) 

Implements {\bf ObjCryst::WXField} \doxyref{}{p.}{a00118_a178d6d770d1e3adfa02e27da94b2dffa}.\index{ObjCryst::WXFieldRefPar@{ObjCryst::WXFieldRefPar}!UpdateUI@{UpdateUI}}
\index{UpdateUI@{UpdateUI}!ObjCryst::WXFieldRefPar@{ObjCryst::WXFieldRefPar}}
\paragraph[{UpdateUI}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ObjCryst::WXFieldRefPar::UpdateUI (const bool {\em mutexlock} = {\ttfamily false})\hspace{0.3cm}{\ttfamily  [virtual]}}\hfill\label{a00124_ad43d8a21434d0b4888e1b87c5965578c}


Update the User Interface, if necessary. 
\begin{DoxyParams}{Parameters}
\item[{\em mutexlock,:}]if true, a Mutex will be used to lock the data shared between main and background thread.\end{DoxyParams}
The idea is to only use a few Mutexes to lock data from the top objects (wxRefinableObj,...), when calling \doxyref{CrystUpdate()}{p.}{a00124_a8443129e52c24a9ab3e36222ddc552af} and \doxyref{UpdateUI()}{p.}{a00124_ad43d8a21434d0b4888e1b87c5965578c}. As sub-\/objects (\doxyref{WXField}{p.}{a00118},...) are only updated from within a top object, the mutex lock in the top object will also lock the data in the sub-\/objects. 

Implements {\bf ObjCryst::WXCrystObjBasic} \doxyref{}{p.}{a00115_a3818940b7031ff7e45cf2178c4a99c90}.

The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
wxRefinableObj.h\end{DoxyCompactItemize}

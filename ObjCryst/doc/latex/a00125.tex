\subsection{ObjCryst::WXFieldString Class Reference}
\label{a00125}\index{ObjCryst::WXFieldString@{ObjCryst::WXFieldString}}


A field which directly links to a string.  
Inheritance diagram for ObjCryst::WXFieldString::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3cm]{a00125}
\end{center}
\end{figure}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries WXFieldString} (wxWindow $\ast$parent, string \&st, const int field\_\-id, const int hsize=50, bool isEditable=true)\label{a00125_ac4c30cbc2b61cd29f864e8b6853474d4}

\item 
void {\bf OnEnter} (wxCommandEvent \&event)
\begin{DoxyCompactList}\small\item\em When a new value is entered (must type it and then hit the 'enter' key). \item\end{DoxyCompactList}\item 
void {\bf OnText} (wxCommandEvent \&WXUNUSED(event))\label{a00125_a0c9a4f6f2c3c1082ba3aff0fa55d19f3}

\begin{DoxyCompactList}\small\item\em Records when text is entered (either from self-\/updating or user input). \item\end{DoxyCompactList}\item 
void {\bf SetValue} (const string \&)
\begin{DoxyCompactList}\small\item\em This actually posts an UpdateUI event, so that it is safe to call it from a non-\/graphic thread. \item\end{DoxyCompactList}\item 
const string {\bf GetValue} () const \label{a00125_a488ed5b180ffd0dea95624c02962ab35}

\begin{DoxyCompactList}\small\item\em Get the current name. \item\end{DoxyCompactList}\item 
virtual void {\bf CrystUpdate} (const bool updateUI=false, const bool mutexlock=false)
\begin{DoxyCompactList}\small\item\em Get new values to be displayed from the underlying object, and raise flag if an UI update is necessary. \item\end{DoxyCompactList}\item 
virtual void {\bf UpdateUI} (const bool mutexlock=false)
\begin{DoxyCompactList}\small\item\em Update the User Interface, if necessary. \item\end{DoxyCompactList}\item 
void {\bf Revert} ()
\begin{DoxyCompactList}\small\item\em After a user entry, this allows to go back to the last value, if for some reason the entry was rejected (because the object is currently busy, . \item\end{DoxyCompactList}\item 
virtual void {\bf ValidateUserInput} ()\label{a00125_a37e535d0725ecfdb59795363f1472c90}

\begin{DoxyCompactList}\small\item\em This function shall be called when a new value has been entered. \item\end{DoxyCompactList}\item 
virtual void {\bf SetSize} (int width, int height)\label{a00125_ac263b80aafdff3bb56187427445b27c7}

\begin{DoxyCompactList}\small\item\em Change the size of the field (excluding the title). \item\end{DoxyCompactList}\item 
virtual void {\bf SetToolTip} (const wxString \&tip)\label{a00125_a861f4019069a28ab6d70c87157d832f1}

\begin{DoxyCompactList}\small\item\em Set tooltip for this window. It will be activated when going over the entry field. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
string $\ast$ {\bf mpString}\label{a00125_af0a4daf786fad26b6bd9939426fdb94a}

\begin{DoxyCompactList}\small\item\em The \doxyref{WXCrystObj}{p.}{a00114} whose name is shown here. \item\end{DoxyCompactList}\item 
string {\bf mValue}\label{a00125_a9e283fe8a42b5935bb5c21a7adf17edd}

\begin{DoxyCompactList}\small\item\em Last name displayed. \item\end{DoxyCompactList}\item 
wxTextCtrl $\ast$ {\bf mpField}\label{a00125_aa76720da6e7e99c814a6566a54c7b644}

\begin{DoxyCompactList}\small\item\em The text window. \item\end{DoxyCompactList}\item 
string {\bf mValueOld}
\begin{DoxyCompactList}\small\item\em Last name displayed, before the value was changed by the user. \item\end{DoxyCompactList}\item 
bool {\bf mIsSelfUpdating}
\begin{DoxyCompactList}\small\item\em Set to true if the Field is being updated, so that no 'EVT\_\-TEXT' is understood as user input. \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
A field which directly links to a string. 

\subsubsection{Member Function Documentation}
\index{ObjCryst::WXFieldString@{ObjCryst::WXFieldString}!CrystUpdate@{CrystUpdate}}
\index{CrystUpdate@{CrystUpdate}!ObjCryst::WXFieldString@{ObjCryst::WXFieldString}}
\paragraph[{CrystUpdate}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ObjCryst::WXFieldString::CrystUpdate (const bool {\em updateUI} = {\ttfamily false}, \/  const bool {\em mutexlock} = {\ttfamily false})\hspace{0.3cm}{\ttfamily  [virtual]}}\hfill\label{a00125_af10eb2c5beb34a1bae3175b04149e39d}


Get new values to be displayed from the underlying object, and raise flag if an UI update is necessary. The actual GUI update is not made here. \doxyref{UpdateUI()}{p.}{a00125_ad2a636e69047cf9f4f3610515aa53666} should be called separately, from the main thread.


\begin{DoxyParams}{Parameters}
\item[{\em updateUI,:}]if true, this will call UpdateUI, either directly (if in the main thread), or by sending a message. \item[{\em mutexlock,:}]if true, a Mutex will be used to lock the data shared between main and background thread. The idea is to only use a few Mutexes to lock data from the top objects (wxRefinableObj,...), when calling \doxyref{CrystUpdate()}{p.}{a00125_af10eb2c5beb34a1bae3175b04149e39d} and \doxyref{UpdateUI()}{p.}{a00125_ad2a636e69047cf9f4f3610515aa53666}. As sub-\/objects (\doxyref{WXField}{p.}{a00118},...) are only updated from within a top object, the mutex lock in the top object will also lock the data in the sub-\/objects. \end{DoxyParams}


Implements {\bf ObjCryst::WXCrystObjBasic} \doxyref{}{p.}{a00115_a7ac00ae2ae28f1a6fa26e6fa571186b6}.\index{ObjCryst::WXFieldString@{ObjCryst::WXFieldString}!OnEnter@{OnEnter}}
\index{OnEnter@{OnEnter}!ObjCryst::WXFieldString@{ObjCryst::WXFieldString}}
\paragraph[{OnEnter}]{\setlength{\rightskip}{0pt plus 5cm}void ObjCryst::WXFieldString::OnEnter (wxCommandEvent \& {\em event})}\hfill\label{a00125_a4ab041e7f333884f0bfb8371699a47ad}


When a new value is entered (must type it and then hit the 'enter' key). The Field reads the new value, then forwards the event to its owner, who will take care of anything that must be done. \index{ObjCryst::WXFieldString@{ObjCryst::WXFieldString}!Revert@{Revert}}
\index{Revert@{Revert}!ObjCryst::WXFieldString@{ObjCryst::WXFieldString}}
\paragraph[{Revert}]{\setlength{\rightskip}{0pt plus 5cm}void ObjCryst::WXFieldString::Revert ()\hspace{0.3cm}{\ttfamily  [virtual]}}\hfill\label{a00125_a0372d3d98cad5236fc2ebb628c881600}


After a user entry, this allows to go back to the last value, if for some reason the entry was rejected (because the object is currently busy, . ..) 

Implements {\bf ObjCryst::WXField} \doxyref{}{p.}{a00118_a178d6d770d1e3adfa02e27da94b2dffa}.\index{ObjCryst::WXFieldString@{ObjCryst::WXFieldString}!SetValue@{SetValue}}
\index{SetValue@{SetValue}!ObjCryst::WXFieldString@{ObjCryst::WXFieldString}}
\paragraph[{SetValue}]{\setlength{\rightskip}{0pt plus 5cm}void ObjCryst::WXFieldString::SetValue (const string \&)}\hfill\label{a00125_a26889c2974269016abf0ed81c860ca29}


This actually posts an UpdateUI event, so that it is safe to call it from a non-\/graphic thread. \index{ObjCryst::WXFieldString@{ObjCryst::WXFieldString}!UpdateUI@{UpdateUI}}
\index{UpdateUI@{UpdateUI}!ObjCryst::WXFieldString@{ObjCryst::WXFieldString}}
\paragraph[{UpdateUI}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ObjCryst::WXFieldString::UpdateUI (const bool {\em mutexlock} = {\ttfamily false})\hspace{0.3cm}{\ttfamily  [virtual]}}\hfill\label{a00125_ad2a636e69047cf9f4f3610515aa53666}


Update the User Interface, if necessary. 
\begin{DoxyParams}{Parameters}
\item[{\em mutexlock,:}]if true, a Mutex will be used to lock the data shared between main and background thread.\end{DoxyParams}
The idea is to only use a few Mutexes to lock data from the top objects (wxRefinableObj,...), when calling \doxyref{CrystUpdate()}{p.}{a00125_af10eb2c5beb34a1bae3175b04149e39d} and \doxyref{UpdateUI()}{p.}{a00125_ad2a636e69047cf9f4f3610515aa53666}. As sub-\/objects (\doxyref{WXField}{p.}{a00118},...) are only updated from within a top object, the mutex lock in the top object will also lock the data in the sub-\/objects. 

Implements {\bf ObjCryst::WXCrystObjBasic} \doxyref{}{p.}{a00115_a3818940b7031ff7e45cf2178c4a99c90}.

\subsubsection{Member Data Documentation}
\index{ObjCryst::WXFieldString@{ObjCryst::WXFieldString}!mIsSelfUpdating@{mIsSelfUpdating}}
\index{mIsSelfUpdating@{mIsSelfUpdating}!ObjCryst::WXFieldString@{ObjCryst::WXFieldString}}
\paragraph[{mIsSelfUpdating}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf ObjCryst::WXFieldString::mIsSelfUpdating}\hspace{0.3cm}{\ttfamily  [protected]}}\hfill\label{a00125_aa22ef2e61af183c448dabe73b98d367e}


Set to true if the Field is being updated, so that no 'EVT\_\-TEXT' is understood as user input. \index{ObjCryst::WXFieldString@{ObjCryst::WXFieldString}!mValueOld@{mValueOld}}
\index{mValueOld@{mValueOld}!ObjCryst::WXFieldString@{ObjCryst::WXFieldString}}
\paragraph[{mValueOld}]{\setlength{\rightskip}{0pt plus 5cm}string {\bf ObjCryst::WXFieldString::mValueOld}\hspace{0.3cm}{\ttfamily  [protected]}}\hfill\label{a00125_a3764d3f904c5e3709be04a97cc0a1e2b}


Last name displayed, before the value was changed by the user. Not used yet, could be useful for undo. 

The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
wxCryst.h\end{DoxyCompactItemize}

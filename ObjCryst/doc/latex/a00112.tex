\subsection{ObjCryst::WXCrystal Class Reference}
\label{a00112}\index{ObjCryst::WXCrystal@{ObjCryst::WXCrystal}}


wxCryst class for Crystals  
Inheritance diagram for ObjCryst::WXCrystal::\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4cm]{a00112}
\end{center}
\end{figure}
\subsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct {\bf RowScattPow}
\begin{DoxyCompactList}\small\item\em Structure to store the scattering power parameters. \item\end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries WXCrystal} (wxWindow $\ast$parent, {\bf Crystal} $\ast$)\label{a00112_a9bbb656f4842a4a406f0402ac8f63176}

\item 
virtual void {\bf CrystUpdate} (const bool updateUI=false, const bool mutexlock=false)
\begin{DoxyCompactList}\small\item\em Get new values to be displayed from the underlying object, and raise flag if an UI update is necessary. \item\end{DoxyCompactList}\item 
void {\bfseries OnMenuSaveCIF} (wxCommandEvent \&WXUNUSED(event))\label{a00112_aa47d254619150f39a21a775dd91a1081}

\item 
void {\bfseries OnMenuSaveText} (wxCommandEvent \&WXUNUSED(event))\label{a00112_afa772ec8c7732267bb00d1e2c8e56e24}

\item 
void {\bfseries OnMenuAddScattPowAtom} (wxCommandEvent \&WXUNUSED(event))\label{a00112_aee65ba76d76a0f1f57b666c1c78dd904}

\item 
void {\bfseries OnMenuAddScattPowSphere} (wxCommandEvent \&WXUNUSED(event))\label{a00112_ad2736f43a904f9e66b27697dad2f1540}

\item 
void {\bfseries OnMenuRemoveScattPow} (wxCommandEvent \&WXUNUSED(event))\label{a00112_a096f5d8a036b6e4b5365921ec82fb161}

\item 
void {\bfseries OnMenuAddScatterer} (wxCommandEvent \&event)\label{a00112_a6e3a438881dcaba21a06e6f4d52720bf}

\item 
void {\bfseries OnMenuRemoveScatterer} (wxCommandEvent \&WXUNUSED(event))\label{a00112_a3e0d4ba6153c064ee7adf90f58718448}

\item 
void {\bfseries OnMenuDuplicateScatterer} (wxCommandEvent \&WXUNUSED(event))\label{a00112_aab02a7fb32d2e10fa4070abd94a566e8}

\item 
void {\bfseries OnMenuImportMoleculeFromFenskeHallZMatrix} (wxCommandEvent \&event)\label{a00112_ac07540c36d5d22ddb92bf8a3baf0d0cf}

\item 
void {\bfseries OnMenuAtoms2Molecule} (wxCommandEvent \&event)\label{a00112_a7a75a3369ac7fddcff066e916819db45}

\item 
void {\bfseries OnMenuSetRelativeXYZLimits} (wxCommandEvent \&WXUNUSED(event))\label{a00112_acc56021ce6c9cc37fed3b640d66a47f0}

\item 
void {\bfseries OnMenuTestRandomMoves} (wxCommandEvent \&event)\label{a00112_a76ee9b2376daa9712be7d2ad3c99fcbf}

\item 
bool {\bf OnChangeName} (const int id)
\begin{DoxyCompactList}\small\item\em When a \doxyref{WXFieldName}{p.}{a00120} has been changed by the user, it is handled here. \item\end{DoxyCompactList}\item 
void {\bf UpdateUI} (const bool mutexlock=false)
\begin{DoxyCompactList}\small\item\em Update the User Interface, if necessary. \item\end{DoxyCompactList}\item 
{\bf Crystal} \& {\bfseries GetCrystal} ()\label{a00112_a955ab79ac70a8f435883e30f934ff64b}

\item 
const {\bf Crystal} \& {\bfseries GetCrystal} () const \label{a00112_af1dbc10e82dd1acdb2f6c5d191762f8e}

\item 
void {\bfseries OnMenuShowScattPowWindow} (wxCommandEvent \&event)\label{a00112_ac465646e9c0913dba290a4c7408f55b9}

\item 
void {\bfseries OnEditGridScattPow} (wxGridEvent \&e)\label{a00112_a64c183898c7dd7c70bbc519c2b702c41}

\item 
void {\bfseries OnEditGridScattPowAntiBump} (wxGridEvent \&e)\label{a00112_ac07a2e102a02f9eb5124251b7a476053}

\item 
void {\bfseries OnEditGridScattPowBondValence} (wxGridEvent \&e)\label{a00112_a55c19dde9c0755aae39f70c67333dbb9}

\item 
void {\bfseries NotifyDeleteListWin} (WXCrystalScrolledGridWindow $\ast$win)\label{a00112_a1fce0127f95af7257a3383ba5c3179cc}

\item 
virtual bool {\bfseries Enable} (bool enable=true)\label{a00112_a125e01082f3ad2e2bdb6560b3ce7109c}

\end{DoxyCompactItemize}
\subsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf Crystal} $\ast$ {\bfseries mpCrystal}\label{a00112_a8229bc7315cf419684260684f7ef4fbd}

\item 
{\bf WXFieldName} $\ast$ {\bf mpFieldSpacegroup}\label{a00112_aee061815eab857c61fcba554554fd695}

\begin{DoxyCompactList}\small\item\em \doxyref{SpaceGroup}{p.}{a00094}. \item\end{DoxyCompactList}\item 
{\bf WXRegistry}$<$ {\bf Scatterer} $>$ $\ast$ {\bf mpWXScattererRegistry}\label{a00112_acf00224693fb4edfba63630175cf28ae}

\begin{DoxyCompactList}\small\item\em Scatterers. \item\end{DoxyCompactList}\item 
{\bf WXRegistry}$<$ {\bf ScatteringPower} $>$ $\ast$ {\bf mpWXScatteringPowerRegistry}\label{a00112_a71bf017ea6116ff834875c17076d91f1}

\begin{DoxyCompactList}\small\item\em Scattering Powers. \item\end{DoxyCompactList}\item 
WXCrystalScrolledGridWindow $\ast$ {\bfseries mpScattPowWin}\label{a00112_af6b71a9ac50a2fdd5201dc640dfac769}

\item 
WXCrystalScrolledGridWindow $\ast$ {\bfseries mpAntiBumpWin}\label{a00112_a28325b27c4d04f1c9976b0dce737c661}

\item 
WXCrystalScrolledGridWindow $\ast$ {\bfseries mpBondValenceWin}\label{a00112_abbb575639f92c56b096fa96a507f2278}

\item 
std::map$<$ {\bf ScatteringPowerAtom} $\ast$, {\bf RowScattPow} $>$ {\bfseries mvpRowScattPow}\label{a00112_a8188bc4bff5b0acc10d3ffc769774902}

\item 
bool {\bf mIsSelfUpdating}
\begin{DoxyCompactList}\small\item\em Flag to indicate that we are updating values in the wxGrid data, and that it is not the user inputing data. \item\end{DoxyCompactList}\item 
wxMutex {\bf mMutexGLUpdate}\label{a00112_aeb528ac1aaae3687c3524cda59cafc17}

\begin{DoxyCompactList}\small\item\em Mutex used when updating the OpenGL display List, between background and main thread. \item\end{DoxyCompactList}\item 
wxCondition $\ast$ {\bf mpConditionGLUpdate}\label{a00112_a63ff54465c7eca2c8984eef7b7861bba}

\begin{DoxyCompactList}\small\item\em wxCondition used when updating the OpenGL display List, between background and main thread \item\end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
wxCryst class for Crystals 

\subsubsection{Member Function Documentation}
\index{ObjCryst::WXCrystal@{ObjCryst::WXCrystal}!CrystUpdate@{CrystUpdate}}
\index{CrystUpdate@{CrystUpdate}!ObjCryst::WXCrystal@{ObjCryst::WXCrystal}}
\paragraph[{CrystUpdate}]{\setlength{\rightskip}{0pt plus 5cm}virtual void ObjCryst::WXCrystal::CrystUpdate (const bool {\em updateUI} = {\ttfamily false}, \/  const bool {\em mutexlock} = {\ttfamily false})\hspace{0.3cm}{\ttfamily  [virtual]}}\hfill\label{a00112_a55d7dc41da5c6d4360609d2eac91f39b}


Get new values to be displayed from the underlying object, and raise flag if an UI update is necessary. The actual GUI update is not made here. \doxyref{UpdateUI()}{p.}{a00112_a62946717943682dc2ac07ea4584030f4} should be called separately, from the main thread.


\begin{DoxyParams}{Parameters}
\item[{\em updateUI,:}]if true, this will call UpdateUI, either directly (if in the main thread), or by sending a message. \item[{\em mutexlock,:}]if true, a Mutex will be used to lock the data shared between main and background thread. The idea is to only use a few Mutexes to lock data from the top objects (wxRefinableObj,...), when calling \doxyref{CrystUpdate()}{p.}{a00112_a55d7dc41da5c6d4360609d2eac91f39b} and \doxyref{UpdateUI()}{p.}{a00112_a62946717943682dc2ac07ea4584030f4}. As sub-\/objects (\doxyref{WXField}{p.}{a00118},...) are only updated from within a top object, the mutex lock in the top object will also lock the data in the sub-\/objects. \end{DoxyParams}


Reimplemented from {\bf ObjCryst::WXRefinableObj} \doxyref{}{p.}{a00142_a13e4f37ac098de756b27cdb91d6a0551}.\index{ObjCryst::WXCrystal@{ObjCryst::WXCrystal}!OnChangeName@{OnChangeName}}
\index{OnChangeName@{OnChangeName}!ObjCryst::WXCrystal@{ObjCryst::WXCrystal}}
\paragraph[{OnChangeName}]{\setlength{\rightskip}{0pt plus 5cm}bool ObjCryst::WXCrystal::OnChangeName (const int {\em id})\hspace{0.3cm}{\ttfamily  [virtual]}}\hfill\label{a00112_a7a15c2d1b5f5997ace336724fc396892}


When a \doxyref{WXFieldName}{p.}{a00120} has been changed by the user, it is handled here. This returns true if the value has been handled (for inheritance purposes). 

Reimplemented from {\bf ObjCryst::WXRefinableObj} \doxyref{}{p.}{a00142_ad784c1cb9ccb0d0e4ebfbc18a8dbbc19}.\index{ObjCryst::WXCrystal@{ObjCryst::WXCrystal}!UpdateUI@{UpdateUI}}
\index{UpdateUI@{UpdateUI}!ObjCryst::WXCrystal@{ObjCryst::WXCrystal}}
\paragraph[{UpdateUI}]{\setlength{\rightskip}{0pt plus 5cm}void ObjCryst::WXCrystal::UpdateUI (const bool {\em mutexlock} = {\ttfamily false})\hspace{0.3cm}{\ttfamily  [virtual]}}\hfill\label{a00112_a62946717943682dc2ac07ea4584030f4}


Update the User Interface, if necessary. 
\begin{DoxyParams}{Parameters}
\item[{\em mutexlock,:}]if true, a Mutex will be used to lock the data shared between main and background thread.\end{DoxyParams}
The idea is to only use a few Mutexes to lock data from the top objects (wxRefinableObj,...), when calling \doxyref{CrystUpdate()}{p.}{a00112_a55d7dc41da5c6d4360609d2eac91f39b} and \doxyref{UpdateUI()}{p.}{a00112_a62946717943682dc2ac07ea4584030f4}. As sub-\/objects (\doxyref{WXField}{p.}{a00118},...) are only updated from within a top object, the mutex lock in the top object will also lock the data in the sub-\/objects. 

Reimplemented from {\bf ObjCryst::WXRefinableObj} \doxyref{}{p.}{a00142_a19a1d057eecafd48710d9a3b770c1b28}.

\subsubsection{Member Data Documentation}
\index{ObjCryst::WXCrystal@{ObjCryst::WXCrystal}!mIsSelfUpdating@{mIsSelfUpdating}}
\index{mIsSelfUpdating@{mIsSelfUpdating}!ObjCryst::WXCrystal@{ObjCryst::WXCrystal}}
\paragraph[{mIsSelfUpdating}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf ObjCryst::WXCrystal::mIsSelfUpdating}\hspace{0.3cm}{\ttfamily  [private]}}\hfill\label{a00112_aca9ce07774d493962db6b30ebff20f0b}


Flag to indicate that we are updating values in the wxGrid data, and that it is not the user inputing data. 

The documentation for this class was generated from the following file:\begin{DoxyCompactItemize}
\item 
wxCrystal.h\end{DoxyCompactItemize}

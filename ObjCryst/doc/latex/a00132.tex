\subsection{Obj\-Cryst\-:\-:W\-X\-Field\-Ref\-Par Class Reference}
\label{a00132}\index{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par@{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par}}


A field for a \doxyref{Refinable\-Par}{p.}{a00080}.  


Inheritance diagram for Obj\-Cryst\-:\-:W\-X\-Field\-Ref\-Par\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{a00132}
\end{center}
\end{figure}
\subsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries W\-X\-Field\-Ref\-Par} (wx\-Window $\ast$parent, const string \&label, {\bf Refinable\-Par} $\ast$refpar, const int hsize=65, const bool enable\-Fix\-Button=true, const bool enable\-Limited\-Button=true)\label{a00132_aaf2cf0819123a666866a4602ca5de448}

\item 
{\bf $\sim$\-W\-X\-Field\-Ref\-Par} ()
\begin{DoxyCompactList}\small\item\em When a new value is entered (must type it and then hit the 'enter' key). \end{DoxyCompactList}\item 
void {\bfseries On\-Enter} (wx\-Command\-Event \&W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00132_a6bee091b30800606ab221141e755377a}

\item 
void {\bf On\-Text} (wx\-Command\-Event \&W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00132_a2b31ab79f3e0f4e288b6ba53eff40c9e}

\begin{DoxyCompactList}\small\item\em Records when text is entered (either from self-\/updating or user input) \end{DoxyCompactList}\item 
void {\bf On\-Toggle\-Fix} (wx\-Command\-Event \&W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00132_a8e9538c35aaf65e427b53fbc5889d4b9}

\begin{DoxyCompactList}\small\item\em Toggle the 'fixed' status of the parameter. \end{DoxyCompactList}\item 
void {\bf On\-Toggle\-Limited} (wx\-Command\-Event \&W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00132_a9629d247dbfb8cf94f42b069753c7cf7}

\begin{DoxyCompactList}\small\item\em Toggle the 'limited' status of the parameter. \end{DoxyCompactList}\item 
void {\bf On\-Popup\-Menu} (wx\-Mouse\-Event \&event)\label{a00132_a4d0a81de88c127d17542f83305865d59}

\begin{DoxyCompactList}\small\item\em Opens the popu menu, to allow changing limits. \end{DoxyCompactList}\item 
void {\bf On\-Popup\-Menu\-Choice} (wx\-Command\-Event \&event)\label{a00132_a64690fe762aa6c7a4da9fb4bdc5b2096}

\begin{DoxyCompactList}\small\item\em Opens the popu menu, to allow changing limits. \end{DoxyCompactList}\item 
virtual void {\bf Cryst\-Update} (const bool update\-U\-I=false, const bool mutexlock=false)
\begin{DoxyCompactList}\small\item\em Get new values to be displayed from the underlying object, and raise flag if an U\-I update is necessary. \end{DoxyCompactList}\item 
virtual void {\bf Update\-U\-I} (const bool mutexlock=false)
\begin{DoxyCompactList}\small\item\em Update the User Interface, if necessary. \end{DoxyCompactList}\item 
{\bf Refinable\-Par} \& {\bf Get\-Ref\-Par} ()\label{a00132_a36aa41fce1d42fbb04736a0cfe7a028f}

\begin{DoxyCompactList}\small\item\em Get the \doxyref{Refinable\-Par}{p.}{a00080} associated to this field. \end{DoxyCompactList}\item 
void {\bf Revert} ()\label{a00132_acc2b6724451be954f41a64e09d6cf082}

\begin{DoxyCompactList}\small\item\em After a user entry, this allows to go back to the last value, if for some reason the entry was rejected (because the object is currently busy, ...) \end{DoxyCompactList}\item 
virtual void {\bf Validate\-User\-Input} ()\label{a00132_a85d90dea83134f90f32423d62cd1681e}

\begin{DoxyCompactList}\small\item\em This function shall be called when a new value has been entered. \end{DoxyCompactList}\item 
virtual void {\bf Set\-Tool\-Tip} (const wx\-String \&tip)\label{a00132_a20bce7667ddb5d546f4f588f51eb28aa}

\begin{DoxyCompactList}\small\item\em Set tooltip for this window. It will be activated when going over the entry field. \end{DoxyCompactList}\item 
void {\bf Set\-Format} (const wx\-String \&format)\label{a00132_a80558955482a56ecebc56a3285847357}

\begin{DoxyCompactList}\small\item\em Set Format. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
R\-E\-A\-L {\bfseries m\-Value}\label{a00132_aa7ef21d56d620a3b0825bb8dce16f2c3}

\item 
wx\-Check\-Box $\ast$ {\bfseries mp\-Button\-Fix}\label{a00132_a110671538c9f243572c886daed9a43e9}

\item 
wx\-Check\-Box $\ast$ {\bfseries mp\-Button\-Limited}\label{a00132_a4392760ef89b22c65e604a12c2d49afd}

\item 
wx\-Text\-Ctrl $\ast$ {\bfseries mp\-Field}\label{a00132_a6e4309b6f8b80e896a82f1d9f241a521}

\item 
{\bf Refinable\-Par} $\ast$ {\bfseries mp\-Ref\-Par}\label{a00132_a9171367818a03871a3fe8eb8dbb77fdf}

\item 
R\-E\-A\-L {\bfseries m\-Value\-Old}\label{a00132_a7d806387b730627841bc1c41a2fb1ad3}

\item 
bool {\bfseries m\-Is\-Self\-Updating}\label{a00132_a0bd541da80dd9af2c501d51a1d1c8599}

\item 
wx\-String {\bf m\-Format}\label{a00132_a7e39af5c48e8e22e7869b9340a64acb2}

\begin{DoxyCompactList}\small\item\em Format to be used, default = \-\_\-\-T(\char`\"{}\%8f\char`\"{}) \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{Detailed Description}
A field for a \doxyref{Refinable\-Par}{p.}{a00080}. 

This shows the 'human' value of the parameter, and allows the modification of the parameter. A button allows to fix/unfix the parameter. \begin{DoxyRefDesc}{Todo}
\item[{\bf Todo}]\-: allow acces to the parameters limits \end{DoxyRefDesc}


\subsubsection{Constructor \& Destructor Documentation}
\index{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par@{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par}!$\sim$\-W\-X\-Field\-Ref\-Par@{$\sim$\-W\-X\-Field\-Ref\-Par}}
\index{$\sim$\-W\-X\-Field\-Ref\-Par@{$\sim$\-W\-X\-Field\-Ref\-Par}!ObjCryst::WXFieldRefPar@{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par}}
\paragraph[{$\sim$\-W\-X\-Field\-Ref\-Par}]{\setlength{\rightskip}{0pt plus 5cm}Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par\-::$\sim$\-W\-X\-Field\-Ref\-Par (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{a00132_a7a79f02ae0835128939e35f761a042f0}


When a new value is entered (must type it and then hit the 'enter' key). 

The Field reads the new value, and directly changes the \doxyref{Refinable\-Par}{p.}{a00080} value (contrary to what happens for \doxyref{W\-X\-Field\-Name}{p.}{a00128})by using \doxyref{Refinable\-Par\-::\-Set\-Human\-Value()}{p.}{a00080_a6bb727ce1de6de9e56c46be1ba75f8b9}. 

\subsubsection{Member Function Documentation}
\index{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par@{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par}!Cryst\-Update@{Cryst\-Update}}
\index{Cryst\-Update@{Cryst\-Update}!ObjCryst::WXFieldRefPar@{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par}}
\paragraph[{Cryst\-Update}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par\-::\-Cryst\-Update (
\begin{DoxyParamCaption}
\item[{const bool}]{update\-U\-I = {\ttfamily false}, }
\item[{const bool}]{mutexlock = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{a00132_a8443129e52c24a9ab3e36222ddc552af}


Get new values to be displayed from the underlying object, and raise flag if an U\-I update is necessary. 

The actual G\-U\-I update is not made here. \doxyref{Update\-U\-I()}{p.}{a00132_ad43d8a21434d0b4888e1b87c5965578c} should be called separately, from the main thread.


\begin{DoxyParams}{Parameters}
{\em update\-U\-I,\-:} & if true, this will call Update\-U\-I, either directly (if in the main thread), or by sending a message. \\
\hline
{\em mutexlock,\-:} & if true, a Mutex will be used to lock the data shared between main and background thread. The idea is to only use a few Mutexes to lock data from the top objects (wx\-Refinable\-Obj,...), when calling \doxyref{Cryst\-Update()}{p.}{a00132_a8443129e52c24a9ab3e36222ddc552af} and \doxyref{Update\-U\-I()}{p.}{a00132_ad43d8a21434d0b4888e1b87c5965578c}. As sub-\/objects (\doxyref{W\-X\-Field}{p.}{a00126},...) are only updated from within a top object, the mutex lock in the top object will also lock the data in the sub-\/objects. \\
\hline
\end{DoxyParams}


Implements {\bf Obj\-Cryst\-::\-W\-X\-Cryst\-Obj\-Basic} \doxyref{}{p.}{a00123_a7ac00ae2ae28f1a6fa26e6fa571186b6}.

\index{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par@{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par}!Update\-U\-I@{Update\-U\-I}}
\index{Update\-U\-I@{Update\-U\-I}!ObjCryst::WXFieldRefPar@{Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par}}
\paragraph[{Update\-U\-I}]{\setlength{\rightskip}{0pt plus 5cm}virtual void Obj\-Cryst\-::\-W\-X\-Field\-Ref\-Par\-::\-Update\-U\-I (
\begin{DoxyParamCaption}
\item[{const bool}]{mutexlock = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{a00132_ad43d8a21434d0b4888e1b87c5965578c}


Update the User Interface, if necessary. 


\begin{DoxyParams}{Parameters}
{\em mutexlock,\-:} & if true, a Mutex will be used to lock the data shared between main and background thread.\\
\hline
\end{DoxyParams}
The idea is to only use a few Mutexes to lock data from the top objects (wx\-Refinable\-Obj,...), when calling \doxyref{Cryst\-Update()}{p.}{a00132_a8443129e52c24a9ab3e36222ddc552af} and \doxyref{Update\-U\-I()}{p.}{a00132_ad43d8a21434d0b4888e1b87c5965578c}. As sub-\/objects (\doxyref{W\-X\-Field}{p.}{a00126},...) are only updated from within a top object, the mutex lock in the top object will also lock the data in the sub-\/objects. 

Implements {\bf Obj\-Cryst\-::\-W\-X\-Cryst\-Obj\-Basic} \doxyref{}{p.}{a00123_a3818940b7031ff7e45cf2178c4a99c90}.



The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
wx\-Refinable\-Obj.\-h\end{DoxyCompactItemize}

\subsection{\-Obj\-Cryst\-:\-:\-W\-X\-Crystal \-Class \-Reference}
\label{a00113}\index{\-Obj\-Cryst\-::\-W\-X\-Crystal@{\-Obj\-Cryst\-::\-W\-X\-Crystal}}


wx\-Cryst class for \-Crystals  


\-Inheritance diagram for \-Obj\-Cryst\-:\-:\-W\-X\-Crystal\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{a00113}
\end{center}
\end{figure}
\subsubsection*{\-Classes}
\begin{DoxyCompactItemize}
\item 
struct {\bf \-Row\-Scatt\-Pow}
\begin{DoxyCompactList}\small\item\em \-Structure to store the scattering power parameters. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsubsection*{\-Public \-Member \-Functions}
\begin{DoxyCompactItemize}
\item 
{\bfseries \-W\-X\-Crystal} (wx\-Window $\ast$parent, {\bf \-Crystal} $\ast$)\label{a00113_a9bbb656f4842a4a406f0402ac8f63176}

\item 
virtual void {\bf \-Cryst\-Update} (const bool update\-U\-I=false, const bool mutexlock=false)
\begin{DoxyCompactList}\small\item\em \-Get new values to be displayed from the underlying object, and raise flag if an \-U\-I update is necessary. \end{DoxyCompactList}\item 
void {\bfseries \-On\-Menu\-Save\-C\-I\-F} (wx\-Command\-Event \&\-W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00113_aa47d254619150f39a21a775dd91a1081}

\item 
void {\bfseries \-On\-Menu\-Save\-Text} (wx\-Command\-Event \&\-W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00113_afa772ec8c7732267bb00d1e2c8e56e24}

\item 
void {\bfseries \-On\-Menu\-Add\-Scatt\-Pow\-Atom} (wx\-Command\-Event \&\-W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00113_aee65ba76d76a0f1f57b666c1c78dd904}

\item 
void {\bfseries \-On\-Menu\-Add\-Scatt\-Pow\-Sphere} (wx\-Command\-Event \&\-W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00113_ad2736f43a904f9e66b27697dad2f1540}

\item 
void {\bfseries \-On\-Menu\-Remove\-Scatt\-Pow} (wx\-Command\-Event \&\-W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00113_a096f5d8a036b6e4b5365921ec82fb161}

\item 
void {\bfseries \-On\-Menu\-Add\-Scatterer} (wx\-Command\-Event \&event)\label{a00113_a6e3a438881dcaba21a06e6f4d52720bf}

\item 
void {\bfseries \-On\-Menu\-Remove\-Scatterer} (wx\-Command\-Event \&\-W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00113_a3e0d4ba6153c064ee7adf90f58718448}

\item 
void {\bfseries \-On\-Menu\-Duplicate\-Scatterer} (wx\-Command\-Event \&\-W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00113_aab02a7fb32d2e10fa4070abd94a566e8}

\item 
void {\bfseries \-On\-Menu\-Import\-Molecule\-From\-Fenske\-Hall\-Z\-Matrix} (wx\-Command\-Event \&event)\label{a00113_ac07540c36d5d22ddb92bf8a3baf0d0cf}

\item 
void {\bfseries \-On\-Menu\-Atoms2\-Molecule} (wx\-Command\-Event \&event)\label{a00113_a7a75a3369ac7fddcff066e916819db45}

\item 
void {\bfseries \-On\-Menu\-Set\-Relative\-X\-Y\-Z\-Limits} (wx\-Command\-Event \&\-W\-X\-U\-N\-U\-S\-E\-D(event))\label{a00113_acc56021ce6c9cc37fed3b640d66a47f0}

\item 
void {\bfseries \-On\-Menu\-Test\-Random\-Moves} (wx\-Command\-Event \&event)\label{a00113_a76ee9b2376daa9712be7d2ad3c99fcbf}

\item 
bool {\bf \-On\-Change\-Name} (const int id)
\begin{DoxyCompactList}\small\item\em \-When a \doxyref{\-W\-X\-Field\-Name}{p.}{a00121} has been changed by the user, it is handled here. \end{DoxyCompactList}\item 
void {\bf \-Update\-U\-I} (const bool mutexlock=false)
\begin{DoxyCompactList}\small\item\em \-Update the \-User \-Interface, if necessary. \end{DoxyCompactList}\item 
{\bf \-Crystal} \& {\bfseries \-Get\-Crystal} ()\label{a00113_a955ab79ac70a8f435883e30f934ff64b}

\item 
const {\bf \-Crystal} \& {\bfseries \-Get\-Crystal} () const \label{a00113_af1dbc10e82dd1acdb2f6c5d191762f8e}

\item 
void {\bfseries \-On\-Menu\-Show\-Scatt\-Pow\-Window} (wx\-Command\-Event \&event)\label{a00113_ac465646e9c0913dba290a4c7408f55b9}

\item 
void {\bfseries \-On\-Edit\-Grid\-Scatt\-Pow} (wx\-Grid\-Event \&e)\label{a00113_a64c183898c7dd7c70bbc519c2b702c41}

\item 
void {\bfseries \-On\-Edit\-Grid\-Scatt\-Pow\-Anti\-Bump} (wx\-Grid\-Event \&e)\label{a00113_ac07a2e102a02f9eb5124251b7a476053}

\item 
void {\bfseries \-On\-Edit\-Grid\-Scatt\-Pow\-Bond\-Valence} (wx\-Grid\-Event \&e)\label{a00113_a55c19dde9c0755aae39f70c67333dbb9}

\item 
void {\bfseries \-Notify\-Delete\-List\-Win} (\-W\-X\-Crystal\-Scrolled\-Grid\-Window $\ast$win)\label{a00113_a1fce0127f95af7257a3383ba5c3179cc}

\item 
virtual bool {\bfseries \-Enable} (bool enable=true)\label{a00113_a125e01082f3ad2e2bdb6560b3ce7109c}

\end{DoxyCompactItemize}
\subsubsection*{\-Private \-Attributes}
\begin{DoxyCompactItemize}
\item 
{\bf \-Crystal} $\ast$ {\bfseries mp\-Crystal}\label{a00113_a8229bc7315cf419684260684f7ef4fbd}

\item 
{\bf \-W\-X\-Field\-Name} $\ast$ {\bf mp\-Field\-Spacegroup}\label{a00113_aee061815eab857c61fcba554554fd695}

\begin{DoxyCompactList}\small\item\em \doxyref{\-Space\-Group}{p.}{a00095}. \end{DoxyCompactList}\item 
{\bf \-W\-X\-Registry}$<$ {\bf \-Scatterer} $>$ $\ast$ {\bf mp\-W\-X\-Scatterer\-Registry}\label{a00113_acf00224693fb4edfba63630175cf28ae}

\begin{DoxyCompactList}\small\item\em \-Scatterers. \end{DoxyCompactList}\item 
{\bf \-W\-X\-Registry}$<$ {\bf \-Scattering\-Power} $>$ $\ast$ {\bf mp\-W\-X\-Scattering\-Power\-Registry}\label{a00113_a71bf017ea6116ff834875c17076d91f1}

\begin{DoxyCompactList}\small\item\em \-Scattering \-Powers. \end{DoxyCompactList}\item 
\-W\-X\-Crystal\-Scrolled\-Grid\-Window $\ast$ {\bfseries mp\-Scatt\-Pow\-Win}\label{a00113_af6b71a9ac50a2fdd5201dc640dfac769}

\item 
\-W\-X\-Crystal\-Scrolled\-Grid\-Window $\ast$ {\bfseries mp\-Anti\-Bump\-Win}\label{a00113_a28325b27c4d04f1c9976b0dce737c661}

\item 
\-W\-X\-Crystal\-Scrolled\-Grid\-Window $\ast$ {\bfseries mp\-Bond\-Valence\-Win}\label{a00113_abbb575639f92c56b096fa96a507f2278}

\item 
std\-::map$<$ {\bf \-Scattering\-Power\-Atom} \*
$\ast$, {\bf \-Row\-Scatt\-Pow} $>$ {\bfseries mvp\-Row\-Scatt\-Pow}\label{a00113_a8188bc4bff5b0acc10d3ffc769774902}

\item 
bool {\bf m\-Is\-Self\-Updating}
\begin{DoxyCompactList}\small\item\em \-Flag to indicate that we are updating values in the wx\-Grid data, and that it is not the user inputing data. \end{DoxyCompactList}\item 
wx\-Mutex {\bf m\-Mutex\-G\-L\-Update}\label{a00113_aeb528ac1aaae3687c3524cda59cafc17}

\begin{DoxyCompactList}\small\item\em \-Mutex used when updating the \-Open\-G\-L display \-List, between background and main thread. \end{DoxyCompactList}\item 
wx\-Condition $\ast$ {\bf mp\-Condition\-G\-L\-Update}\label{a00113_a63ff54465c7eca2c8984eef7b7861bba}

\begin{DoxyCompactList}\small\item\em wx\-Condition used when updating the \-Open\-G\-L display \-List, between background and main thread \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsubsection{\-Detailed \-Description}
wx\-Cryst class for \-Crystals 

\subsubsection{\-Member \-Function \-Documentation}
\index{\-Obj\-Cryst\-::\-W\-X\-Crystal@{\-Obj\-Cryst\-::\-W\-X\-Crystal}!\-Cryst\-Update@{\-Cryst\-Update}}
\index{\-Cryst\-Update@{\-Cryst\-Update}!ObjCryst::WXCrystal@{\-Obj\-Cryst\-::\-W\-X\-Crystal}}
\paragraph[{\-Cryst\-Update}]{\setlength{\rightskip}{0pt plus 5cm}virtual void {\bf \-Obj\-Cryst\-::\-W\-X\-Crystal\-::\-Cryst\-Update} (
\begin{DoxyParamCaption}
\item[{const bool}]{update\-U\-I = {\ttfamily false}, }
\item[{const bool}]{mutexlock = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [virtual]}}\label{a00113_a55d7dc41da5c6d4360609d2eac91f39b}


\-Get new values to be displayed from the underlying object, and raise flag if an \-U\-I update is necessary. 

\-The actual \-G\-U\-I update is not made here. \doxyref{\-Update\-U\-I()}{p.}{a00113_a62946717943682dc2ac07ea4584030f4} should be called separately, from the main thread.


\begin{DoxyParams}{\-Parameters}
{\em update\-U\-I,\-:} & if true, this will call \-Update\-U\-I, either directly (if in the main thread), or by sending a message. \\
\hline
{\em mutexlock,\-:} & if true, a \-Mutex will be used to lock the data shared between main and background thread. \-The idea is to only use a few \-Mutexes to lock data from the top objects (wx\-Refinable\-Obj,...), when calling \doxyref{\-Cryst\-Update()}{p.}{a00113_a55d7dc41da5c6d4360609d2eac91f39b} and \doxyref{\-Update\-U\-I()}{p.}{a00113_a62946717943682dc2ac07ea4584030f4}. \-As sub-\/objects (\doxyref{\-W\-X\-Field}{p.}{a00119},...) are only updated from within a top object, the mutex lock in the top object will also lock the data in the sub-\/objects. \\
\hline
\end{DoxyParams}


\-Reimplemented from {\bf \-Obj\-Cryst\-::\-W\-X\-Refinable\-Obj} \doxyref{}{p.}{a00143_a13e4f37ac098de756b27cdb91d6a0551}.

\index{\-Obj\-Cryst\-::\-W\-X\-Crystal@{\-Obj\-Cryst\-::\-W\-X\-Crystal}!\-On\-Change\-Name@{\-On\-Change\-Name}}
\index{\-On\-Change\-Name@{\-On\-Change\-Name}!ObjCryst::WXCrystal@{\-Obj\-Cryst\-::\-W\-X\-Crystal}}
\paragraph[{\-On\-Change\-Name}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf \-Obj\-Cryst\-::\-W\-X\-Crystal\-::\-On\-Change\-Name} (
\begin{DoxyParamCaption}
\item[{const int}]{id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [virtual]}}\label{a00113_a7a15c2d1b5f5997ace336724fc396892}


\-When a \doxyref{\-W\-X\-Field\-Name}{p.}{a00121} has been changed by the user, it is handled here. 

\-This returns true if the value has been handled (for inheritance purposes). 

\-Reimplemented from {\bf \-Obj\-Cryst\-::\-W\-X\-Refinable\-Obj} \doxyref{}{p.}{a00143_ad784c1cb9ccb0d0e4ebfbc18a8dbbc19}.

\index{\-Obj\-Cryst\-::\-W\-X\-Crystal@{\-Obj\-Cryst\-::\-W\-X\-Crystal}!\-Update\-U\-I@{\-Update\-U\-I}}
\index{\-Update\-U\-I@{\-Update\-U\-I}!ObjCryst::WXCrystal@{\-Obj\-Cryst\-::\-W\-X\-Crystal}}
\paragraph[{\-Update\-U\-I}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Obj\-Cryst\-::\-W\-X\-Crystal\-::\-Update\-U\-I} (
\begin{DoxyParamCaption}
\item[{const bool}]{mutexlock = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily  [virtual]}}\label{a00113_a62946717943682dc2ac07ea4584030f4}


\-Update the \-User \-Interface, if necessary. 


\begin{DoxyParams}{\-Parameters}
{\em mutexlock,\-:} & if true, a \-Mutex will be used to lock the data shared between main and background thread.\\
\hline
\end{DoxyParams}
\-The idea is to only use a few \-Mutexes to lock data from the top objects (wx\-Refinable\-Obj,...), when calling \doxyref{\-Cryst\-Update()}{p.}{a00113_a55d7dc41da5c6d4360609d2eac91f39b} and \doxyref{\-Update\-U\-I()}{p.}{a00113_a62946717943682dc2ac07ea4584030f4}. \-As sub-\/objects (\doxyref{\-W\-X\-Field}{p.}{a00119},...) are only updated from within a top object, the mutex lock in the top object will also lock the data in the sub-\/objects. 

\-Reimplemented from {\bf \-Obj\-Cryst\-::\-W\-X\-Refinable\-Obj} \doxyref{}{p.}{a00143_a19a1d057eecafd48710d9a3b770c1b28}.



\subsubsection{\-Member \-Data \-Documentation}
\index{\-Obj\-Cryst\-::\-W\-X\-Crystal@{\-Obj\-Cryst\-::\-W\-X\-Crystal}!m\-Is\-Self\-Updating@{m\-Is\-Self\-Updating}}
\index{m\-Is\-Self\-Updating@{m\-Is\-Self\-Updating}!ObjCryst::WXCrystal@{\-Obj\-Cryst\-::\-W\-X\-Crystal}}
\paragraph[{m\-Is\-Self\-Updating}]{\setlength{\rightskip}{0pt plus 5cm}bool {\bf \-Obj\-Cryst\-::\-W\-X\-Crystal\-::m\-Is\-Self\-Updating}\hspace{0.3cm}{\ttfamily  [private]}}\label{a00113_aca9ce07774d493962db6b30ebff20f0b}


\-Flag to indicate that we are updating values in the wx\-Grid data, and that it is not the user inputing data. 



\-The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
wx\-Crystal.\-h\end{DoxyCompactItemize}
